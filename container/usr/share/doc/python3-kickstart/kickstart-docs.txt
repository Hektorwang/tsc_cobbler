Kickstart Documentation
***********************

Authors:
   Chris Lumens <clumens@redhat.com> and other members of the
   *Anaconda installer team*


Contents
^^^^^^^^

* Kickstart Documentation

  * Chapter 1. Introduction

    * What are Kickstart Installations?

    * How Do You Perform a Kickstart Installation?

    * Creating the Kickstart File

    * Special Notes for Referring to Disks

  * Chapter 2. Kickstart Commands in Fedora

    * auth or authconfig

    * authselect

    * autopart

    * autostep

    * bootloader

    * btrfs

    * cdrom

    * clearpart

    * graphical or text or cmdline

    * device

    * deviceprobe

    * dmraid

    * driverdisk

    * eula

    * fcoe

    * firewall

    * firstboot

    * group

    * reboot or poweroff or shutdown or halt

    * harddrive

    * hmc

    * ignoredisk

    * install

    * interactive

    * iscsi

    * iscsiname

    * keyboard

    * lang

    * langsupport

    * lilo

    * lilocheck

    * liveimg

    * logging

    * logvol

    * mediacheck

    * method

    * module

    * monitor

    * mount

    * mouse

    * multipath

    * network

    * nfs

    * nvdimm

    * ostreesetup

    * part or partition

    * raid

    * realm

    * repo

    * reqpart

    * rescue

    * rootpw

    * selinux

    * services

    * skipx

    * snapshot

    * sshkey

    * sshpw

    * timesource

    * timezone

    * updates

    * install or upgrade

    * url

    * user

    * vnc

    * volgroup

    * xconfig

    * zerombr

    * zfcp

    * zipl

    * %include

    * %ksappend

  * Chapter 3. Kickstart Commands in Red Hat Enterprise Linux

    * auth or authconfig

    * authselect

    * autopart

    * autostep

    * bootloader

    * btrfs

    * cdrom

    * clearpart

    * graphical or text or cmdline

    * device

    * deviceprobe

    * dmraid

    * driverdisk

    * eula

    * fcoe

    * firewall

    * firstboot

    * group

    * reboot or poweroff or shutdown or halt

    * harddrive

    * hmc

    * ignoredisk

    * install

    * interactive

    * iscsi

    * iscsiname

    * key

    * keyboard

    * lang

    * langsupport

    * lilo

    * lilocheck

    * liveimg

    * logging

    * logvol

    * mediacheck

    * method

    * module

    * monitor

    * mount

    * mouse

    * multipath

    * network

    * nfs

    * nvdimm

    * ostreesetup

    * part or partition

    * raid

    * realm

    * repo

    * reqpart

    * rescue

    * rhsm

    * rootpw

    * selinux

    * services

    * skipx

    * snapshot

    * sshkey

    * sshpw

    * syspurpose

    * timezone

    * unsupported_hardware

    * updates

    * install or upgrade

    * url

    * user

    * vnc

    * volgroup

    * xconfig

    * zerombr

    * zfcp

    * zipl

    * %include

    * %ksappend

  * Chapter 4. Pre-installation script

    * Example

  * Chapter 5. Pre-install Script

  * Chapter 6. Post-installation Script

    * Examples

  * Chapter 7. Handling Errors

  * Chapter 8. Handling Tracebacks

  * Chapter 9. Package Selection

    * Group-level options

  * Chapter 10. Making the Kickstart File Available

    * Creating a Kickstart Boot Diskette

    * Creating a Kickstart Boot CD-ROM

    * Making the Kickstart File Available on the Network

  * Chapter 11. Making the Installation Tree Available

  * Chapter 12. Starting a Kickstart Installation

    * Boot Diskette

    * CD-ROM #1 and Diskette

    * With Driver Disk

    * Boot CD-ROM

    * Other kickstart options

    * Example Kickstart Script

    * More Kickstart usage examples


Chapter 1. Introduction
=======================


What are Kickstart Installations?
---------------------------------

Many system administrators would prefer to use an automated
installation method to install Fedora or Red Hat Enterprise Linux on
their machines. To answer this need, Red Hat created the kickstart
installation method. Using kickstart, a system administrator can
create a single file containing the answers to all the questions that
would normally be asked during a typical installation.

Kickstart files can be kept on a server system and read by individual
computers during the installation. This installation method can
support the use of a single kickstart file to install Fedora or Red
Hat Enterprise Linux on multiple machines, making it ideal for network
and system administrators.

The Fedora installation guide at http://docs.fedoraproject.org/en-
US/index.html has a detailed section on kickstart.


How Do You Perform a Kickstart Installation?
--------------------------------------------

Kickstart installations can be performed using a local CD-ROM, a local
hard drive, or via NFS, FTP, or HTTP.

To use kickstart, you must:

1. Create a kickstart file.

2. Create a boot diskette with the kickstart file or make the
   kickstart file available on the network.

3. Make the installation tree available.

4. Start the kickstart installation.

This chapter explains these steps in detail.


Creating the Kickstart File
---------------------------

The kickstart file is a simple text file, containing a list of items,
each identified by a keyword. You can create it by using the Kickstart
Configurator application or by writing it from scratch. The Fedora or
Red Hat Enterprise Linux installation program also creates a sample
kickstart file based on the options that you selected during
installation. It is written to the file /root/anaconda-ks.cfg. You
should be able to edit it with any text editor or word processor that
can save files as ASCII text.

First, be aware of the following issues when you are creating your
kickstart file:

* While not strictly required, there is a natural order for sections
  that should be followed. Items within the sections do not have to be
  in a specific order unless otherwise noted. The section order is:

  1. Command section – Refer to Chapter 2 for a list of kickstart
     options. You must include the required options.

  2. The %packages section – Refer to Chapter 3 for details.

  3. The %pre, %pre-install, %post, %onerror, and %traceback sections
     – These sections can be in any order and are not required. Refer
     to Chapter 4, Chapter 5, and Chapter 6  for details.

* The %packages, %pre, %pre-install, %post, %onerror, and %traceback
  sections are all required to be closed with %end

* Items that are not required can be omitted.

* Omitting any required item will result in the installation program
  prompting the user for an answer to the related item, just as the
  user would be prompted during a typical installation. Once the
  answer is given, the installation will continue unattended unless it
  finds another missing item.

* One installation source command from the list of commands in the
  "method" proxy command must be specified for the fully automated
  kickstart installation. This is required even for Fedora – the
  closest mirror can’t be chosen by the kickstart file.

* Lines starting with a pound sign (#) are treated as comments and are
  ignored.

* If deprecated commands, options, or syntax are used during a
  kickstart installation, a warning message will be logged to the
  anaconda log. Since deprecated items are usually removed within a
  release or two, it makes sense to check the installation log to make
  sure you haven’t used any of them. When using ksvalidator,
  deprecated items will cause an error.


Special Notes for Referring to Disks
------------------------------------

Traditionally, disks have been referred to throughout Kickstart by a
device node name (such as "sda"). The Linux kernel has moved to a more
dynamic method where device names are not guaranteed to be consistent
across reboots, so this can complicate usage in Kickstart scripts. To
accommodate stable device naming, you can use any item from
"/dev/disk" in place of a device node name. For example, instead of:

"part / --fstype=ext4 --onpart=sda1"

You could use an entry similar to one of the following:

   part / --fstype=ext4 --onpart=/dev/disk/by-path/pci-0000:00:05.0-scsi-0:0:0:0-part1
   part / --fstype=ext4 --onpart=/dev/disk/by-id/ata-ST3160815AS_6RA0C882-part1

This provides a consistent way to refer to disks that is more
meaningful than just "sda". This is especially useful in large storage
environments.

You can also use shell-like entries to refer to disks. This is
primarily intended to make it easier to use the "clearpart" and
"ignoredisk" commands in large storage environments. For example,
instead of:

"ignoredisk --drives=sdaa,sdab,sdac"

You could use an entry similar to the following:

"ignoredisk --drives=/dev/disk/by-path/pci-0000:00:05.0-scsi-*"

Finally, anywhere you want to refer to an existing partition or
filesystem (say, in the "part --ondisk=") option, you may also refer
to the device by its filesystem label or UUID. This is done as
follows:

   part /data --ondisk=LABEL=data
   part /misc --ondisk=UUID=819ff6de-0bd6-4bf4-8b72-dbe41033a85b


Chapter 2. Kickstart Commands in Fedora
=======================================

The following commands can be placed in a kickstart file. If you
prefer to use a graphical interface for creating your kickstart file,
you can use the Kickstart Configurator application.

Most commands take arguments.  If an argument is followed equals mark
("="), a value must be specified after it.

In the example commands, options in ‘’’[square brackets]’’’ are
optional arguments for the command.

pykickstart processes arguments to commands just like the shell does:

   If a list of arguments can be passed in, the arguments must be separated by
   commas and not include any extra spaces.  If extra spaces are required in the
   list of arguments, the entire argument must be surrounded by double quotes.
   If quotes, spaces, or other special characters need to be added to the
   arguments list, they must be escaped.


auth or authconfig
------------------

   auth|authconfig [options]

New in version Fedora3.

This required command sets up the authentication options for the
system. This is just a wrapper around the authconfig program, so all
options recognized by that program are valid for this command. See the
manual page for authconfig for a complete list.

By default, passwords are normally encrypted and are not shadowed.

Changed in version Fedora28.

The authconfig program is deprecated. This command will use the
authconfig compatibility tool, but you should use the authselect
command instead.

positional arguments:

"[options]"

   See "man authconfig".

   New in version Fedora3.


authselect
----------

   authselect [options]

New in version Fedora28.

This command sets up the authentication options for the system. This
is just a wrapper around the authselect program, so all options
recognized by that program are valid for this command. See the manual
page for authselect for a complete list.

positional arguments:

"[options]"

   See "man authselect".

   New in version Fedora28.


autopart
--------

   autopart [--encrypted] [--passphrase PASSPHRASE] [--escrowcert <url>]
        [--backuppassphrase] [--nolvm] [--type TYPE] [--cipher CIPHER]
        [--fstype FSTYPE] [--nohome] [--noboot] [--noswap]
        [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
        [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
        [--pbkdf-iterations PBKDF_ITERATIONS]

New in version Fedora3.

Automatically create partitions – a root ("/") partition, a swap
partition, and an appropriate boot partition for the architecture. On
large enough drives, this will also create a /home partition.

Note:

  "autopart" cannot be used with the following commands: partition,
  raid, volgroup, logvol, reqpart

optional arguments:

"--encrypted"

   Should all devices with support be encrypted by default? This is
   equivalent to checking the “Encrypt” checkbox on the initial
   partitioning screen.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Only relevant if "--encrypted" is specified. Provide a default
   system-wide passphrase for all encrypted devices.

   New in version Fedora9.

"--escrowcert <url>"

   Only relevant if "--encrypted" is specified. Load an X.509
   certificate from "<url>". Store the data encryption keys of all
   encrypted volumes created during installation, encrypted using the
   certificate, as files in "/root".

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified. In addition to
   storing the data encryption keys, generate a random passphrase and
   add it to all encrypted volumes created during installation. Then
   store the passphrase, encrypted using the certificate specified by
   "--escrowcert", as files in "/root" (one file for each encrypted
   volume).

   New in version Fedora12.

"--nolvm"

   Don’t use LVM when partitioning.

   New in version Fedora16.

   Changed in version Fedora17.

   The same as "--type=plain"

"--type TYPE"

   Select automatic partitioning scheme. Must be one of the following:
   [‘lvm’, ‘btrfs’, ‘plain’, ‘partition’, ‘thinp’]. Plain means
   regular partitions with no btrfs or lvm.

   New in version Fedora17.

   Changed in version Fedora20.

   Partitioning scheme ‘thinp’ was added.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--fstype FSTYPE"

   Use the specified filesystem type on the partitions. Note that it
   cannot be used with "--type=btrfs" since btrfs is both a partition
   scheme and a filesystem. eg. "--fstype=ext4".

   New in version Fedora21.

"--nohome"

   Do not create a /home partition.

   New in version Fedora26.

"--noboot"

   Do not create a /boot partition.

   New in version Fedora26.

"--noswap"

   Do not create a swap partition.

   New in version Fedora26.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.


autostep
--------

   autostep [--autoscreenshot]

New in version Fedora3.

Kickstart installs normally skip unnecessary screens. This makes the
installer step through every screen, displaying each briefly.

This is mostly used for debugging.

Deprecated since version Fedora34.

optional arguments:

"--autoscreenshot"

   Take a screenshot at every step during installation and copy the
   images over to "/root/anaconda-screenshots" after installation is
   complete. This is most useful for documentation.

   New in version Fedora3.


bootloader
----------

   bootloader [--append APPENDLINE] [--location {mbr,partition,none,boot}]
          [--password PASSWORD] [--driveorder DRIVEORDER] [--timeout TIMEOUT]
          [--default DEFAULT] [--iscrypted] [--md5pass _MD5PASS]
          [--boot-drive BOOTDRIVE] [--leavebootorder] [--extlinux]
          [--disabled] [--nombr]

New in version Fedora3.

This required command specifies how the boot loader should be
installed.

There must be a biosboot partition for the bootloader to be installed
successfully onto a disk that contains a GPT/GUID partition table,
which includes disks initialized by anaconda. This partition may be
created with the kickstart command "part biosboot --fstype=biosboot
--size=1". However, in the case that a disk has an existing biosboot
partition, adding a "part biosboot" option is unnecessary.

optional arguments:

"--append APPENDLINE"

   Specifies additional kernel parameters. For example:

   "bootloader --location=mbr --append="hdd=ide-scsi ide=nodma""

   **Note** The installer will add the bootloader arguments "rhgb
   quiet" if plymouth is installed on the target system. You can
   disable these options with "-plymouth" in the "%packages" section.

   New in version Fedora3.

"--linear"

   use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

   Removed in version Fedora4.

"--nolinear"

   do not use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

   Removed in version Fedora4.

"--location {mbr,partition,none,boot}"

   Specifies where the boot record is written. Valid values are the
   following: mbr (the default), partition (installs the boot loader
   on the first sector of the partition containing the kernel), or
   none (do not install the boot loader).

   **Note** *bootloader –location=none* is different from *bootloader
   –location=none –disabled*. *–location=none* prevents extra
   installation steps that makes the target machine bootable, e.g.
   write to MBR on x86 BIOS systems. However, the corresponding RPM
   packages are still installed, and *–disabled* can be appended to
   prevent it. *bootloader –disabled* only does not prevent the
   installation of the bootloader and Anaconda will complain if no
   other options are provided.

   New in version Fedora3.

"--password PASSWORD"

   If using GRUB, sets the GRUB boot loader password. This should be
   used to restrict access to the GRUB shell, where arbitrary kernel
   options can be passed.

   New in version Fedora3.

"--useLilo"

   force the use of LILO

   New in version Fedora3.

   Removed in version Fedora4.

"--driveorder DRIVEORDER"

   define the explicit hard disk order the boot loader should use

   New in version Fedora3.

"--timeout TIMEOUT"

   Specify the number of seconds before the bootloader times out and
   boots the default option.

   New in version Fedora8.

"--default DEFAULT"

   Sets the default boot image in the bootloader configuration.

   New in version Fedora8.

"--lba32"

   force the use of LBA32 mode for hard disk access (LILO only)

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.

"--iscrypted"

   If given, the password specified by "--password=" is already
   encrypted and should be passed to the bootloader configuration
   without additional modification.

   New in version Fedora15.

"--md5pass _MD5PASS"

   If using GRUB, similar to "--password=" except the password should
   already be encrypted.

   New in version Fedora3.

   Changed in version Fedora15.

   If using GRUB, similar to "--password=" except the password should
   already be encrypted.

"--boot-drive BOOTDRIVE"

   Specifies which drive the bootloader should be written to and thus,
   which drive the computer will boot from.

   New in version Fedora17.

"--leavebootorder"

   On EFI or ISeries/PSeries machines, this option prevents the
   installer from making changes to the existing list of bootable
   images.

   New in version Fedora18.

"--extlinux"

   Use the extlinux bootloader instead of GRUB. This option only works
   on machines that are supported by extlinux.

   New in version Fedora19.

"--disabled"

   Do not install the boot loader.

   **Note** *bootloader –location=none* is different from *bootloader
   –location=none –disabled*. *–location=none* prevents extra
   installation steps that makes the target machine bootable, e.g.
   write to MBR on x86 BIOS systems. However, the corresponding RPM
   packages are still installed, and *–disabled* can be appended to
   prevent it. *bootloader –disabled* only does not prevent the
   installation of the bootloader and Anaconda will complain if no
   other options are provided.

   New in version Fedora21.

"--nombr"

   do not install the boot loader to the MBR

   New in version Fedora21.

"--upgrade"

   upgrade the boot loader installed on disk

   New in version Fedora3.

   Deprecated since version Fedora29.

   Removed in version Fedora34.


btrfs
-----

   btrfs [--noformat] [--useexisting] [--label LABEL] [--data DATALEVEL]
     [--metadata METADATALEVEL] [--subvol] [--parent PARENT] [--name NAME]
     [--mkfsoptions MKFSOPTS]

New in version Fedora17.

Defines a BTRFS volume or subvolume. This command is of the form:

"btrfs <mntpoint> --data=<level> --metadata=<level> --label=<label>
<partitions*>"

for volumes and of the form:

"btrfs <mntpoint> --subvol --name=<path> <parent>"

for subvolumes.

The "<partitions*>" (which denotes that multiple partitions can be
listed) lists the BTRFS identifiers to add to the BTRFS volume. For
subvolumes, should be the identifier of the subvolume’s parent volume.

"<mntpoint>"

Location where the file system is mounted.

optional arguments:

"--noformat"

   Use an existing BTRFS volume (or subvolume) and do not reformat the
   filesystem.

   New in version Fedora17.

"--useexisting"

   Same as "--noformat".

   New in version Fedora17.

"--label LABEL"

   Specify the label to give to the filesystem to be made. If the
   given label is already in use by another filesystem, a new label
   will be created. This option has no meaning for subvolumes.

   New in version Fedora17.

"--data DATALEVEL"

   RAID level to use (0, 1, 10) for filesystem data. Optional. This
   option has no meaning for subvolumes.

   New in version Fedora17.

"--metadata METADATALEVEL"

   RAID level to use (0, 1, 10) for filesystem/volume metadata.
   Optional. This option has no meaning for subvolumes.

   New in version Fedora17.

"--subvol"

   Create BTRFS subvolume.

   New in version Fedora17.

"--parent PARENT"

   BTRFS parent device

   New in version Fedora17.

"--name NAME"

   Subvolume name.

   New in version Fedora17.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program. This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora23.

The following example shows how to create a BTRFS volume from member
partitions on three disks with subvolumes for root and home. The main
volume is not mounted or used directly in this example – only the root
and home subvolumes:

   part btrfs.01 --size=6000 --ondisk=sda
   part btrfs.02 --size=6000 --ondisk=sdb
   part btrfs.03 --size=6000 --ondisk=sdc

   btrfs none --data=0 --metadata=1 --label=f17 btrfs.01 btrfs.02 btrfs.03
   btrfs / --subvol --name=root LABEL=f17
   btrfs /home --subvol --name=home f17


cdrom
-----

   cdrom

New in version Fedora3.

Install from the first CD-ROM/DVD drive on the system.


clearpart
---------

   clearpart [--all] [--drives DRIVES] [--initlabel] [--linux] [--none]
         [--list DEVICES] [--disklabel DISKLABEL] [--cdl]

New in version Fedora3.

Removes partitions from the system, prior to creation of new
partitions. By default, no partitions are removed.

If the clearpart command is used, then the "--onpart" command cannot
be used on a logical partition.

optional arguments:

"--all"

   Erases all partitions from the system.

   New in version Fedora3.

"--drives DRIVES"

   Specifies which drives to clear partitions from. For example, the
   following clears the partitions on the first two drives on the
   primary IDE controller:

      ``clearpart --all --drives=sda,sdb``

   New in version Fedora3.

"--initlabel"

   Initializes the disk label to the default for your architecture
   (for example msdos for x86 and gpt for Itanium). This is only
   meaningful in combination with the ‘–all’ option.

   New in version Fedora3.

"--linux"

   Erases all Linux partitions.

   New in version Fedora3.

"--none"

   Do not remove any partitions. This is the default

   New in version Fedora3.

"--list DEVICES"

   Specifies which partitions to clear. If given, this supersedes any
   of the "--all" and "--linux" options. This can be across different
   drives:

      ``clearpart --list=sda2,sda3,sdb1``

   New in version Fedora17.

"--disklabel DISKLABEL"

   Set the default disklabel to use. Only disklabels supported for the
   platform will be accepted. eg. msdos and gpt for x86_64 but not
   dasd.

   New in version Fedora21.

"--cdl"

   Reformat any LDL DASDs to CDL format.

   New in version Fedora28.


graphical or text or cmdline
----------------------------

   graphical|text|cmdline [--non-interactive]

New in version Fedora3.

Controls which display mode will be used during installation. If
"cmdline" is chosen all required installation options must be
configured via kickstart otherwise the installation will fail.

optional arguments:

"--non-interactive"

   Perform the installation in a completely non-interactive mode. This
   mode will kill the installation when user interaction will be
   required. Can’t be used with "cmdline" mode. This option is
   especially useful for automated testing purpose.

   New in version Fedora26.


device
------

   device [--opts MODULEOPTS]

New in version Fedora3.

On most PCI systems, the installation program will autoprobe for
Ethernet and SCSI cards properly. On older systems and some PCI
systems, however, kickstart needs a hint to find the proper devices.
The device command, which tells the installation program to install
extra modules, is in this format:

"device <moduleName> --opts=<options>"

"<moduleName>"

Replace with the name of the kernel module which should be installed.

Deprecated since version Fedora24.

Removed in version Fedora34.

optional arguments:

"--opts MODULEOPTS"

   Options to pass to the kernel module. For example:

   "--opts="aic152x=0x340 io=11""

   New in version Fedora3.


deviceprobe
-----------

   deviceprobe

New in version Fedora3.

probe for devices

Deprecated since version Fedora29.

Removed in version Fedora34.


dmraid
------

   dmraid --name NAME --dev DEVICES

New in version Fedora6.

define a software RAID device

Deprecated since version Fedora24.

Removed in version Fedora34.

optional arguments:

"--name NAME"

   Name of dmraid

   New in version Fedora6.

"--dev DEVICES"

   device to add to the dmraid

   New in version Fedora6.


driverdisk
----------

   driverdisk [--source SOURCE] [--biospart BIOSPART] [partition [partition ...]]

New in version Fedora3.

Driver diskettes can be used during kickstart installations. You need
to copy the driver disk’s contents to the root directory of a
partition on the system’s hard drive. Then you need to use the
driverdisk command to tell the installation program where to look for
the driver disk.

positional arguments:

"partition"

   Partition containing the driver disk. This can be specified by
   device name, UUID=, or LABEL= just like the harddrive command may
   be.

   New in version Fedora3.

optional arguments:

"--source SOURCE"

   Specify a URL for the driver disk. NFS locations can be given with
   "nfs:host:/path/to/img".

   New in version Fedora3.

"--biospart BIOSPART"

   BIOS partition containing the driver disk (such as 82p2).

   New in version Fedora4.

"--type TYPE"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.


eula
----

   eula [--agreed]

New in version Fedora20.

Automatically accept Red Hat’s EULA

optional arguments:

"--agreed, --agree, --accepted, --accept"

   Accept the EULA. This is mandatory option!

   New in version Fedora20.


fcoe
----

   fcoe --nic NIC [--dcb] [--autovlan]

New in version Fedora12.

Discover and attach FCoE storage devices accessible via specified
network interface

optional arguments:

"--nic NIC"

   Name of the network device connected to the FCoE switch

   New in version Fedora12.

"--dcb"

   Enable Data Center Bridging awareness in installer. This option
   should only be enabled for network interfaces that require a host-
   based DCBX client. Configurations on interfaces that implement a
   hardware DCBX client should not use it.

   New in version Fedora13.

"--autovlan"

   Perform automatic VLAN discovery and setup. This option is enabled
   by default.

   New in version Fedora28.


firewall
--------

   firewall [--disable] [--enable] [--port PORTS] [--trust TRUSTS]
        [--service SERVICES] [--ftp] [--http] [--smtp] [--ssh]
        [--remove-service REMOVE_SERVICES] [--use-system-defaults]

New in version Fedora3.

This option corresponds to the Firewall Configuration screen in the
installation program

optional arguments:

"--disable, --disabled"

   Do not configure any iptables rules.

   New in version Fedora3.

"--enable, --enabled"

   Reject incoming connections that are not in response to outbound
   requests, such as DNS replies or DHCP requests. If access to
   services running on this machine is needed, you can choose to allow
   specific services through the firewall.

   New in version Fedora3.

"--high HIGH"

   New in version Fedora3.

   Deprecated since version Fedora3.

   Removed in version Fedora9.

"--medium MEDIUM"

   New in version Fedora3.

   Deprecated since version Fedora3.

   Removed in version Fedora9.

"--port PORTS"

   You can specify that ports be allowed through the firewall using
   the port:protocol format. You can also specify ports numerically.
   Multiple ports can be combined into one option as long as they are
   separated by commas. For example:

      ``firewall --port=imap:tcp,1234:ucp,47``

   New in version Fedora3.

"--trust TRUSTS"

   Listing a device here, such as eth0, allows all traffic coming from
   that device to go through the firewall. To list more than one
   device, use –trust eth0 –trust eth1. Do NOT use a comma-separated
   format such as –trust eth0, eth1.

   New in version Fedora3.

"--service SERVICES"

   This option provides a higher-level way to allow services through
   the firewall. Some services (like cups, avahi, etc.) require
   multiple ports to be open or other special configuration in order
   for the service to work. You could specify each individual service
   with the "--port" option, or specify "--service=" and open them all
   at once.

   Valid options are anything recognized by the firewall-cmd program
   in the firewalld package. If firewalld is running:

      ``firewall-cmd --get-services``

   will provide a list of known service names.

   New in version Fedora10.

"--ftp"

   Open port 21:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the ftp service port

"--http"

   Open ports 80:tcp and 443:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the http service port

"--smtp"

   Open port 25:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the smtp service port

"--ssh"

   Open port 22:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the ssh service port

"--telnet TELNET"

   Open port 23:tcp

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--remove-service REMOVE_SERVICES"

   Close ports for the comma-separated list of services

   New in version Fedora20.

"--use-system-defaults"

   Don’t configure the firewall at all. This instructs anaconda to do
   nothing and allows the system to rely on the defaults that were
   provided with the package or ostree.  If this option is used with
   other options then all other options will be ignored.

   New in version Fedora28.


firstboot
---------

   firstboot [--disable] [--enable] [--reconfig]

New in version Fedora3.

Determine whether the Setup Agent starts the first time the system is
booted. If enabled, the "initial-setup" package must be installed. If
not specified, the setup agent (initial-setup) is disabled by default.

optional arguments:

"--disable, --disabled"

   The Setup Agent is not started the first time the system boots.

   New in version Fedora3.

"--enable, --enabled"

   The Setup Agent is started the first time the system boots.

   New in version Fedora3.

"--reconfig"

   Enable the Setup Agent to start at boot time in reconfiguration
   mode. This mode enables the language, mouse, keyboard, root
   password, security level, time zone, and networking configuration
   options in addition to the default ones.

   New in version Fedora3.


group
-----

   group --name NAME [--gid GID]

New in version Fedora12.

Creates a new user group on the system. If a group with the given name
or GID already exists, this command will fail. In addition, the "user"
command can be used to create a new group for the newly created user.

optional arguments:

"--name NAME"

   Provides the name of the new group.

   New in version Fedora12.

"--gid GID"

   The group’s GID. If not provided, this defaults to the next
   available non-system GID.

   New in version Fedora12.


reboot or poweroff or shutdown or halt
--------------------------------------

   reboot|poweroff|shutdown|halt [--eject] [--kexec]

New in version Fedora3.

"reboot"

Reboot after the installation is complete. Normally, kickstart
displays a message and waits for the user to press a key before
rebooting.

"poweroff"

Turn off the machine after the installation is complete. Normally,
kickstart displays a message and waits for the user to press a key
before rebooting.

"shutdown"

At the end of installation, shut down the machine. This is the same as
the poweroff command. Normally, kickstart displays a message and waits
for the user to press a key before rebooting.

"halt"

At the end of installation, display a message and wait for the user to
press a key before rebooting. This is the default action.

Changed in version Fedora18.

The ‘halt’ command was added!

optional arguments:

"--eject"

   Attempt to eject CD or DVD media before rebooting.

   New in version Fedora6.

"--kexec"

   Use kexec to reboot into the new system, bypassing BIOS/Firmware
   and bootloader.

   New in version Fedora23.


harddrive
---------

   harddrive --dir DIR --partition PARTITION

New in version Fedora3.

Install from a directory of ISO images on a local drive, which must be
either vfat or ext2. In addition to this directory, you must also
provide the install.img in some way. You can either do this by booting
off the boot.iso or by creating an images/ directory in the same
directory as the ISO images and placing install.img in there.

optional arguments:

"--biospart BIOSPART"

   BIOS partition to install from (such as 82p2).

   New in version Fedora3.

   Removed in version Fedora33.

"--dir DIR"

   Directory containing both the ISO images and the
   images/install.img. For example:

      ``harddrive --partition=hdb2 --dir=/tmp/install-tree``

   New in version Fedora3.

"--partition PARTITION"

   Partition to install from (such as, sdb2).

   New in version Fedora3.

   Changed in version Fedora33.

   Partition to install from (such as, sdb2).


hmc
---

   hmc

New in version RedHatEnterpriseLinux7.

Install from an installation medium via SE/HMC on z Systems.


ignoredisk
----------

   ignoredisk [--drives IGNOREDISK] [--only-use ONLYUSE]

New in version Fedora3.

Controls anaconda’s access to disks attached to the system. By
default, all disks will be available for partitioning. Only one of the
following three options may be used.

optional arguments:

"--drives IGNOREDISK"

   Specifies those disks that anaconda should not touch when
   partitioning, formatting, and clearing.

   New in version Fedora3.

   Changed in version Fedora8.

   This argument is no longer required!

"--only-use ONLYUSE"

   Specifies the opposite - only disks listed here will be used during
   installation.

   New in version Fedora8.

"--interactive"

   Allow the user manually navigate the advanced storage screen.

   New in version RedHatEnterpriseLinux6.

   Deprecated since version Fedora29.

   Removed in version Fedora34.


install
-------

   install [--root-device ROOT_DEVICE]

           Install a fresh system. You must specify the type of
           installation from one of cdrom, harddrive, nfs, or url
           (for ftp or http installations).
           The install command and the installation method command
           must be on separate lines.

           Important: before Fedora 20 this command was known as
           install or upgrade but the upgrade part was deprecated!

Deprecated since version Fedora29.

Removed in version Fedora34.

optional arguments:

"--root-device ROOT_DEVICE"

   On a system with multiple installs, this option specifies which
   filesystem holds the installation to be upgraded. This can be
   specified by device name, UUID=, or LABEL= just like the harddrive
   command may be.

   New in version Fedora11.


interactive
-----------

   interactive

New in version Fedora3.

Use interactive kickstart installation method.

Deprecated since version Fedora14.

Removed in version Fedora15.


iscsi
-----

   iscsi [--target TARGET] --ipaddr IPADDR [--port PORT] [--user USER]
     [--password PASSWORD] [--reverse-user USER_IN]
     [--reverse-password PASSWORD_IN] [--iface IFACE]

New in version Fedora6.

Specifies additional iSCSI storage to be attached during installation.
If you use the iscsi parameter, you must also assign a name to the
iSCSI node, using the iscsiname parameter. The iscsiname parameter
must appear before the iscsi parameter in the kickstart file.

We recommend that wherever possible you configure iSCSI storage in the
system BIOS or firmware (iBFT for Intel systems) rather than use the
iscsi parameter. Anaconda automatically detects and uses disks
configured in BIOS or firmware and no special configuration is
necessary in the kickstart file.

If you must use the iscsi parameter, ensure that networking is
activated at the beginning of the installation, and that the iscsi
parameter appears in the kickstart file before you refer to iSCSI
disks with parameters such as clearpart or ignoredisk.

optional arguments:

"--target TARGET"

   The target iqn.

   New in version Fedora6.

"--ipaddr IPADDR"

   The IP address of the target to connect to.

   New in version Fedora6.

"--port PORT"

   The port number to connect to (default, –port=3260).

   New in version Fedora6.

"--user USER"

   The username required to authenticate with the target.

   New in version Fedora6.

"--password PASSWORD"

   The password that corresponds with the username specified for the
   target.

   New in version Fedora6.

"--reverse-user USER_IN"

   The username required to authenticate with the initiator from a
   target that uses reverse CHAP authentication.

   New in version Fedora10.

"--reverse-password PASSWORD_IN"

   The password that corresponds with the username specified for the
   initiator.

   New in version Fedora10.

"--iface IFACE"

   Bind connection to specific network interface instead of using the
   default one determined by network layer. Once used, it must be
   specified for all iscsi commands.

   New in version Fedora17.


iscsiname
---------

   iscsiname <iqn>

New in version Fedora6.

Assigns an initiator name to the computer. If you use the iscsi
parameter in your kickstart file, this parameter is mandatory, and you
must specify iscsiname in the kickstart file before you specify iscsi.

positional arguments:

"<iqn>"

   IQN name

   New in version Fedora6.


keyboard
--------

   keyboard [--vckeymap VC_KEYMAP] [--xlayouts X_LAYOUTS]
        [--switch SWITCH_OPTIONS]
        [kbd [kbd ...]]

New in version Fedora3.

This required command sets system keyboard type.

Changed in version Fedora18.

See the documentation of "--vckeymap" option and the tip at the end of
this section for a guide how to get values accepted by this command.

Either "--vckeymap" or "--xlayouts" must be used.

Alternatively, use the older format, "arg", which is still supported.
"arg" can be an X layout or VConsole keymap name.

Missing values will be automatically converted from the given one(s).

positional arguments:

"kbd"

   Keyboard type

   New in version Fedora3.

optional arguments:

"--vckeymap VC_KEYMAP"

   Specify VConsole keymap that should be used. is a keymap name which
   is the same as the filename under "/usr/lib/kbd/keymaps/" without
   the ".map.gz" extension.

   New in version Fedora18.

"--xlayouts X_LAYOUTS"

   Specify a list of X layouts that should be used (comma-separated
   list without spaces). Accepts the same values as "setxkbmap(1)",
   but uses either the layout format (such as cz) or the ‘layout
   (variant)’ format (such as ‘cz (qwerty)’). For example:

      ``keyboard --xlayouts=cz,'cz (qwerty)'`

   New in version Fedora18.

"--switch SWITCH_OPTIONS"

   Specify a list of layout switching options that should be used
   (comma-separated list without spaces). Accepts the same values as
   "setxkbmap(1)" for layout switching. For example:

      ``keyboard --xlayouts=cz,'cz (qwerty)' --switch=grp:alt_shift_toggle``

   New in version Fedora18.

*If you know only the description of the layout (e.g. Czech (qwerty)),
you can use http://vpodzime.fedorapeople.org/layouts_list.py to list
all available layouts and find the one you want to use. The string in
square brackets is the valid layout specification as Anaconda accepts
it. The same goes for switching options and
http://vpodzime.fedorapeople.org/switching_list.py*


lang
----

   lang [--addsupport LOCALE] <lang>

New in version Fedora3.

This required command sets the language to use during installation and
the default language to use on the installed system to "<id>". This
can be the same as any recognized setting for the "$LANG" environment
variable, though not all languages are supported during installation.

Certain languages (mainly Chinese, Japanese, Korean, and Indic
languages) are not supported during text mode installation. If one of
these languages is specified using the lang command, installation will
continue in English though the running system will have the specified
langauge by default.

The file "/usr/share/system-config-language/locale-list" provides a
list the valid language codes in the first column of each line and is
part of the system-config-languages package.

positional arguments:

"<lang>"

   Language ID.

   New in version Fedora3.

optional arguments:

"--addsupport LOCALE"

   Install the support packages for the given locales, specified as a
   comma-separated list. Each locale may be specified in the same ways
   as the primary language may be, as described above.

   New in version Fedora19.


langsupport
-----------

   langsupport [--default DEFLANG]

New in version Fedora3.

Install the support packages for the given locales.

Deprecated since version Fedora5.

Removed in version Fedora7.

optional arguments:

"--default DEFLANG"

   Default locale

   New in version Fedora3.


lilo
----

   lilo [--append APPENDLINE] [--linear] [--nolinear]
    [--location {mbr,partition,none,boot}] [--lba32] [--password PASSWORD]
    [--md5pass MD5PASS] [--upgrade] [--useLilo] [--driveorder DRIVEORDER]

New in version Fedora3.

This required command specifies how the boot loader should be
installed.

There must be a biosboot partition for the bootloader to be installed
successfully onto a disk that contains a GPT/GUID partition table,
which includes disks initialized by anaconda. This partition may be
created with the kickstart command "part biosboot --fstype=biosboot
--size=1". However, in the case that a disk has an existing biosboot
partition, adding a "part biosboot" option is unnecessary.

Removed in version Fedora4.

optional arguments:

"--append APPENDLINE"

   Specifies additional kernel parameters. For example:

   "bootloader --location=mbr --append="hdd=ide-scsi ide=nodma""

   **Note** The installer will add the bootloader arguments "rhgb
   quiet" if plymouth is installed on the target system. You can
   disable these options with "-plymouth" in the "%packages" section.

   New in version Fedora3.

"--linear"

   use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

"--nolinear"

   do not use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

"--location {mbr,partition,none,boot}"

   Specifies where the boot record is written. Valid values are the
   following: mbr (the default), partition (installs the boot loader
   on the first sector of the partition containing the kernel), or
   none (do not install the boot loader).

   **Note** *bootloader –location=none* is different from *bootloader
   –location=none –disabled*. *–location=none* prevents extra
   installation steps that makes the target machine bootable, e.g.
   write to MBR on x86 BIOS systems. However, the corresponding RPM
   packages are still installed, and *–disabled* can be appended to
   prevent it. *bootloader –disabled* only does not prevent the
   installation of the bootloader and Anaconda will complain if no
   other options are provided.

   New in version Fedora3.

"--lba32"

   force the use of LBA32 mode for hard disk access (LILO only)

   New in version Fedora3.

"--password PASSWORD"

   If using GRUB, sets the GRUB boot loader password. This should be
   used to restrict access to the GRUB shell, where arbitrary kernel
   options can be passed.

   New in version Fedora3.

"--md5pass MD5PASS"

   If using GRUB, similar to "--password=" except the password should
   already be encrypted.

   New in version Fedora3.

"--upgrade"

   upgrade the boot loader installed on disk

   New in version Fedora3.

"--useLilo"

   force the use of LILO

   New in version Fedora3.

"--driveorder DRIVEORDER"

   define the explicit hard disk order the boot loader should use

   New in version Fedora3.


lilocheck
---------

   lilocheck

New in version Fedora3.

check LILO boot loader

Removed in version Fedora4.


liveimg
-------

   liveimg --url <url> [--proxy <proxyurl>] [--noverifyssl] [--checksum <sha256>]

New in version Fedora19.

Install a disk image instead of packages. The image can be the
squashfs.img from a Live iso, or any filesystem mountable by the
install media (eg. ext4). Anaconda expects the image to contain
utilities it needs to complete the system install so the best way to
create one is to use livemedia-creator to make the disk image. If the
image contains /LiveOS/*.img (this is how squashfs.img is structured)
the first *.img file inside LiveOS will be mounted and used to install
the target system. The URL may also point to a tarfile of the root
filesystem. The file must end in .tar, .tbz, .tgz, .txz, .tar.bz2,
tar.gz, tar.xz

optional arguments:

"--url <url>"

   The URL to install from. http, https, ftp and file are supported.

   New in version Fedora19.

"--proxy <proxyurl>"

   Specify an HTTP/HTTPS/FTP proxy to use while performing the
   install. The various parts of the argument act like you would
   expect. Syntax is:

      ``--proxy=[protocol://][username[:password]@]host[:port]``

   New in version Fedora19.

"--noverifyssl"

   For a tree on a HTTPS server do not check the server’s certificate
   with what well-known CA validate and do not check the server’s
   hostname matches the certificate’s domain name.

   New in version Fedora19.

"--checksum <sha256>"

   Optional sha256 checksum of the image file

   New in version Fedora19.


logging
-------

   logging [--host HOST] [--port PORT] [--level LEVEL]

New in version Fedora6.

This command controls the error logging of anaconda during
installation. It has no effect on the installed system.

optional arguments:

"--host HOST"

   Send logging information to the given remote host, which must be
   running a syslogd process configured to accept remote logging.

   New in version Fedora6.

"--port PORT"

   If the remote syslogd process uses a port other than the default,
   it may be specified with this option.

   New in version Fedora6.

"--level LEVEL"

   Specify the minimum level of messages that appear on tty3. All
   messages will still be sent to the log file regardless of this
   level, however.

   New in version Fedora6.

   Deprecated since version Fedora34.


logvol
------

   logvol [--fstype FSTYPE] [--grow] [--maxsize MAXSIZEMB] --name NAME
      [--noformat] [--percent PERCENT] [--recommended] [--size SIZE]
      [--useexisting] --vgname VGNAME [--fsoptions FSOPTS]
      [--fsprofile FSPROFILE] [--encrypted] [--passphrase PASSPHRASE]
      [--escrowcert <url>] [--backuppassphrase] [--label LABEL] [--resize]
      [--hibernation] [--cipher CIPHER] [--thinpool] [--thin]
      [--poolname POOL_NAME] [--chunksize CHUNK_SIZE]
      [--metadatasize METADATA_SIZE] [--profile PROFILE]
      [--cachesize CACHE_SIZE] [--cachemode CACHE_MODE]
      [--cachepvs CACHE_PVS] [--mkfsoptions MKFSOPTS]
      [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
      [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
      [--pbkdf-iterations PBKDF_ITERATIONS]
      <mntpoint>

New in version Fedora3.

Create a logical volume for Logical Volume Management (LVM).

Note:

  "logvol" cannot be used with the following commands: autopart, mount

positional arguments:

"<mntpoint>"

   Mountpoint for this logical volume or ‘none’.

   New in version Fedora3.

optional arguments:

"--fstype FSTYPE"

   Sets the file system type for the logical volume. Valid values
   include ext4, ext3, ext2, btrfs, swap, and vfat. Other filesystems
   may be valid depending on command line arguments passed to Anaconda
   to enable other filesystems.

   New in version Fedora3.

"--grow"

   Tells the logical volume to grow to fill available space (if any),
   or up to the maximum size setting. Note that "--grow" is not
   supported for logical volumes containing a RAID volume on top of
   them.

   New in version Fedora3.

"--maxsize MAXSIZEMB"

   The maximum size in MiB the logical volume may grow to. Specify an
   integer value here, and do not append any units.  This option is
   only relevant if "--grow" is specified as well.

   New in version Fedora3.

"--name NAME"

   The name of this logical volume.

   New in version Fedora3.

"--noformat"

   Use an existing logical volume and do not format it.

   New in version Fedora3.

"--percent PERCENT"

   Specify the size of the logical volume as a percentage of available
   space in the volume group. Without the above "--grow" option, this
   may not work.

   New in version Fedora3.

"--recommended"

   Determine the size of the logical volume automatically.

   New in version Fedora3.

"--size SIZE"

   Size of this logical volume.

   New in version Fedora3.

"--useexisting"

   Use an existing logical volume and reformat it.

   New in version Fedora3.

"--vgname VGNAME"

   Name of the Volume Group this logical volume belongs to.

   New in version Fedora3.

"--fsoptions FSOPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the "/etc/fstab"
   file of the installed system and should be enclosed in quotes.

   New in version Fedora4.

"--bytes-per-inode BYTES_PER_INODE"

   Specify the bytes/inode ratio.

   New in version Fedora4.

   Deprecated since version Fedora9.

   Removed in version Fedora14.

"--fsprofile FSPROFILE"

   Specifies a usage type to be passed to the program that makes a
   filesystem on this partition. A usage type defines a variety of
   tuning parameters to be used when making a filesystem. For this
   option to work, the filesystem must support the concept of usage
   types and there must be a configuration file that lists valid
   types. For ext2/3/4, this configuration file is "/etc/mke2fs.conf".

   New in version Fedora9.

"--encrypted"

   Specify that this logical volume should be encrypted.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Specify the passphrase to use when encrypting this logical volume.
   Without the above "--encrypted" option, this option does nothing.
   If no passphrase is specified, the default system-wide one is used,
   or the installer will stop and prompt if there is no default.

   New in version Fedora9.

"--escrowcert <url>"

   Load an X.509 certificate from "<url>". Store the data encryption
   key of this logical volume, encrypted using the certificate, as a
   file in "/root". Only relevant if "--encrypted" is specified as
   well.

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified as well. In addition
   to storing the data encryption key, generate a random passphrase
   and add it to this logical volume. Then store the passphrase,
   encrypted using the certificate specified by "--escrowcert", as a
   file in "/root". If more than one LUKS volume uses "--
   backuppassphrase", the same passphrase will be used for all such
   volumes.

   New in version Fedora12.

"--label LABEL"

   Specify the label to give to the filesystem to be made. If the
   given label is already in use by another filesystem, a new label
   will be created.

   New in version Fedora15.

"--resize"

   Attempt to resize this logical volume to the size given by "--
   size=". This option must be used with "--useexisting --size=", or
   an error will be raised.

   New in version Fedora17.

"--hibernation"

   This option can be used to automatically determine the size of the
   swap partition big enough for hibernation.

   New in version Fedora18.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--thinpool"

   Create a thin pool logical volume. Use a mountpoint of ‘none’.

   New in version Fedora20.

"--thin"

   Create a thin logical volume. Requires "--poolname".

   New in version Fedora20.

"--poolname POOL_NAME"

   Specify the name of the thin pool in which to create a thin logical
   volume. Requires "--thin".

   New in version Fedora20.

"--chunksize CHUNK_SIZE"

   Specify the chunk size (in KiB) for a new thin pool device.

   New in version Fedora20.

"--metadatasize METADATA_SIZE"

   Specify the metadata area size (in MiB) for a new thin pool device.

   New in version Fedora20.

"--profile PROFILE"

   Specify an LVM profile for the thin pool (see "lvm(8)", standard
   profiles are "default" and "thin-performance" defined in the
   "/etc/lvm/profile/" directory).

   New in version Fedora21.

"--cachesize CACHE_SIZE"

   Requested size (in MiB) of cache attached to the logical volume.
   Requires "--cachepvs".

   New in version Fedora23.

"--cachemode CACHE_MODE"

   Mode that should be used for the cache. Either "writeback" or
   "writethrough".

   New in version Fedora23.

"--cachepvs CACHE_PVS"

   Comma-separated list of (fast) physical volumes that should be used
   for the cache.

   New in version Fedora23.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program.  This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora23.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

Create the partition first, create the logical volume group, and then
create the logical volume. For example:

   part pv.01 --size 3000
   volgroup myvg pv.01
   logvol / --vgname=myvg --size=2000 --name=rootvol


mediacheck
----------

   mediacheck

New in version Fedora4.

If given, this will force anaconda to run mediacheck on the
installation media. This command requires that installs be attended,
so it is disabled by default.


method
------

   method

New in version Fedora3.

Proxy to the actual installation method. Valid installation methods
are:

* "cdrom"

* "harddrive"

* "nfs"

* "url"

* "liveimg"

Deprecated since version Fedora34.


module
------

   module --name <module_name> [--stream <module_stream_name>] [--disable]

New in version Fedora29.

The module command makes it possible to manipulate modules.

(In this case we mean modules as introduced by the Fedora modularity
initiative.)

A module is defined by a unique name and a stream id, where single
module can (and usually has) multiple available streams.

Streams will in most cases corresponds to stable releases of the given
software components (such as Node.js, Django, etc.) but there could be
also other use cases, such as a raw upstream master branch stream or
streams corresponding to an upcoming stable release.

For more information see the Fedora modularity initiative
documentation: https://docs.pagure.org/modularity/

optional arguments:

"--name <module_name>"

   Name of the module to enable.

   New in version Fedora29.

"--stream <module_stream_name>"

   Name of the module stream to enable.

   New in version Fedora29.

"--disable"

   Disable module.

   New in version RedHatEnterpriseLinux8.


monitor
-------

   monitor [--hsync HSYNC] [--monitor MONITOR] [--vsync VSYNC] [--noprobe]

New in version Fedora3.

If the monitor command is not given, anaconda will use X to
automatically detect your monitor settings. Please try this before
manually configuring your monitor.

Deprecated since version Fedora10.

Removed in version Fedora18.

optional arguments:

"--hsync HSYNC"

   Specifies the horizontal sync frequency of the monitor.

   New in version Fedora3.

"--monitor MONITOR"

   Use specified monitor; monitor name should be from the list of
   monitors in "/usr/share/hwdata/MonitorsDB" from the hwdata package.
   The list of monitors can also be found on the X Configuration
   screen of the Kickstart Configurator. This is ignored if "--hsync"
   or "--vsync" is provided. If no monitor information is provided,
   the installation program tries to probe for it automatically.

   New in version Fedora3.

"--vsync VSYNC"

   Specifies the vertical sync frequency of the monitor.

   New in version Fedora3.

"--noprobe"

   Do not probe the monitor.

   New in version Fedora6.


mount
-----

   mount [--reformat [REFORMAT]] [--mkfsoptions MKFS_OPTS]
     [--mountoptions MOUNT_OPTS]
     <device> <mntpoint>

New in version Fedora27.

Assigns a mount point to a block device and optionally reformats it to
a given format. It at least requires a device and a mount point where
the mount point can be "none" in case the format on the device is not
mountable or in case the device should just be reformatted.

The difference between this command and the other commands for storage
configuration ("part", "logvol",…) is that it doesn’t require the
whole storage stack to be described in the kickstart file. The user
just needs to make sure that the specified block device exists in the
system. The installer doesn’t necessarily have to know all the details
about of the given device. If, on the other hand, the installer is
supposed to **create** the storage stack with all the devices mounted
at various places, the "part", "logvol", "raid", etc. commands have to
be used.

Note:

  "mount" cannot be used with the following commands: autopart,
  partition, raid, volgroup, logvol, reqpart

positional arguments:

"<device>"

   The block device to mount

   New in version Fedora27.

"<mntpoint>"

   The "<mntpoint>" is where the <device> will be mounted.  Must be a
   valid mount point, for example "/", "/usr", "/home", or "none" if
   the device cannot (e.g. swap) or should not be mounted.

   New in version Fedora27.

optional arguments:

"--reformat [REFORMAT]"

   Specifies the new format (e.g. a file system) for the device.

   New in version Fedora27.

"--mkfsoptions MKFS_OPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program.  This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora27.

"--mountoptions MOUNT_OPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the /etc/fstab file
   of the installed system and should be enclosed in quotes.

   New in version Fedora27.


mouse
-----

   mouse [--device DEVICE] [--emulthree]

New in version RedHatEnterpriseLinux3.

Configure the system mouse

Deprecated since version Fedora3.

Removed in version Fedora7.

optional arguments:

"--device DEVICE"

   Which device node to use for mouse

   New in version RedHatEnterpriseLinux3.

"--emulthree"

   If set emulate 3 mouse buttons

   New in version RedHatEnterpriseLinux3.


multipath
---------

   multipath --name NAME --device DEVICE --rule RULE

New in version Fedora6.

define a multipath storage device

Deprecated since version Fedora24.

Removed in version Fedora34.

optional arguments:

"--name NAME"

   multipath device name

   New in version Fedora6.

"--device DEVICE"

   multipath device node

   New in version Fedora6.

"--rule RULE"

   multipath device rule

   New in version Fedora6.


network
-------

   network [--bootproto {dhcp,bootp,static,query,ibft}] [--dhcpclass DHCPCLASS]
       [--device DEVICE] [--essid ESSID] [--ethtool ETHTOOL]
       [--gateway GATEWAY] [--hostname HOSTNAME] [--ip IP] [--mtu MTU]
       [--nameserver NAMESERVER] [--netmask NETMASK] [--nodns]
       [--onboot ONBOOT] [--wepkey WEPKEY] [--notksdevice] [--noipv4]
       [--noipv6] [--ipv6 IPV6] [--activate] [--nodefroute] [--wpakey WPAKEY]
       [--bondslaves BONDSLAVES] [--bondopts BONDOPTS] [--vlanid VLANID]
       [--ipv6gateway IPV6GATEWAY] [--teamslaves TEAMSLAVES]
       [--teamconfig TEAMCONFIG] [--interfacename INTERFACENAME]
       [--bridgeslaves BRIDGESLAVES] [--bridgeopts BRIDGEOPTS]
       [--no-activate] [--bindto {mac}]

New in version Fedora3.

Configures network information for target system and activates network
devices in installer environment. The device specified in the first
network command is activated automatically. Activation of the device
can be also explicitly required by "--activate" option

optional arguments:

"--bootproto {dhcp,bootp,static,query,ibft}"

   The method of IPv4 configuration. For IPv6 configuration use "--
   ipv6" option.

   The default setting is "dhcp". To turn IPv4 configuration off use "
   --noipv4" option.

   * The "dhcp" method uses a DHCP server system to obtain its
     networking configuration.

   * The "static" method requires that you specify at least IP address
     and netmask with "--ip" and "--netmask" options.

   For example:

      ``network --device=link --bootproto=static --ip=10.0.2.15 --netmask=255.255.255.0 --gateway=10.0.2.254 --nameserver=10.0.2.1``

   * "ibft" setting is for reading the configuration from iBFT table.

   New in version Fedora3.

   Changed in version Fedora9.

   The ‘query’ value was added.

   Changed in version Fedora16.

   The ‘ibft’ value was added.

"--dhcpclass DHCPCLASS"

   Specifies the DHCP vendor class identifier. The dhcpd service will
   see this value as vendor-class-identifier.

   New in version Fedora3.

"--device DEVICE"

   Specifies the device to be configured (and eventually activated in
   Anaconda) with the network command.

   You can specify a device to be activated in any of the following
   ways:

   * the device name of the interface, for example, "em1"

   * the MAC address of the interface, for example,
     "01:23:45:67:89:ab"

   * the keyword "link", which specifies the first interface with its
     link in the up state

   * the keyword "bootif", which uses the MAC address that pxelinux
     set in the "BOOTIF" variable. Set "IPAPPEND 2" in your
     pxelinux.cfg file to have pxelinux set the "BOOTIF" variable.

   For example:

      ``network --bootproto=dhcp --device=ens3``

   If the "--device=" option is missing on the first use of the
   network command, the value of the "ksdevice=" Anaconda boot option
   is used, if available. If "ksdevice=" is not set, "link" value is
   used. Note that this is considered deprecated behavior; in most
   cases, you should always specify a "--device=" for every network
   command. The behavior of any subsequent network command in the same
   Kickstart file is unspecified if its "--device=" option is missing.
   Make sure you specify this option for any network command beyond
   the first.

   New in version Fedora3.

"--essid ESSID"

   The network ID for wireless networks.

   New in version Fedora3.

"--ethtool ETHTOOL"

   Specifies additional low-level settings for the network device
   which will be passed to the ethtool program.

   New in version Fedora3.

"--gateway GATEWAY"

   Default gateway, as a single IPv4 address.

   New in version Fedora3.

"--hostname HOSTNAME"

   The host name for the installed system.

   The host name can either be a fully-qualified domain name (FQDN) in
   the format hostname.domainname, or a short host name with no
   domain. Many networks have a DHCP service which automatically
   supplies connected systems with a domain name; to allow DHCP to
   assign the domain name, only specify a short host name.

   New in version Fedora3.

"--ip IP"

   IPv4 address for the interface.

   New in version Fedora3.

"--mtu MTU"

   The MTU of the device.

   New in version Fedora3.

"--nameserver NAMESERVER"

   Primary nameserver, as an IP address. Multiple nameservers must be
   comma separated.

   New in version Fedora3.

"--netmask NETMASK"

   IPv4 network mask of the device.

   New in version Fedora3.

"--nodns"

   Do not configure any DNS server.

   New in version Fedora3.

"--onboot ONBOOT"

   Whether or not to enable the device a boot time.

   New in version Fedora3.

"--wepkey WEPKEY"

   The WEP encryption key for wireless networks.

   New in version Fedora3.

"--notksdevice"

   This network device is not used for kickstart.

   New in version Fedora4.

"--noipv4"

   Disable IPv4 configuration of this device.

   New in version Fedora6.

"--noipv6"

   Disable IPv6 configuration of this device.

   New in version Fedora6.

"--ipv6 IPV6"

   IPv6 address for the interface. This can be: - the static address
   in form "<IPv6 address>[/<prefix length>]", e.g.
   "3ffe:ffff:0:1::1/128" (if prefix is omitted 64 is assumed), -
   "auto" for stateless automatic address autoconfiguration, or -
   "dhcp" for DHCPv6-only configuration (no router advertisements).

   New in version Fedora8.

"--activate"

   As noted above, using this option ensures any matching devices
   beyond the first will also be activated.

   New in version Fedora16.

"--nodefroute"

   Prevents grabbing of the default route by the device. It can be
   useful when activating additional devices in installer using "--
   activate" option.

   New in version Fedora16.

"--wpakey WPAKEY"

   The WPA encryption key for wireless networks.

   New in version Fedora16.

"--bondslaves BONDSLAVES"

   Bonded device with name specified by "--device" option will be
   created using slaves specified in this option. Example:

      ``network --device bond0 --bootproto static --ip=10.34.102.222 --netmask=255.255.255.0 --gateway=10.34.102.254 --nameserver=10.34.39.2 --bondslaves=ens7,ens8 --bondopts=mode=active-backup,primary=ens7 --activate``

   New in version Fedora19.

"--bondopts BONDOPTS"

   A comma-separated list of optional parameters for bonded interface
   specified by "--bondslaves" and "--device" options. Example:

      ``--bondopts=mode=active-backup,primary=eth1``

   If an option itself contains comma as separator use semicolon to
   separate the options. Example:

      ``--bondopts=mode=active-backup,balance-rr;primary=eth1``

   New in version Fedora19.

"--vlanid VLANID"

   Id (802.1q tag) of vlan device to be created using parent device
   specified by "--device" option. For example:

      ``network --device=eth0 --vlanid=171``

   will create vlan device "eth0.171".

   New in version Fedora19.

"--ipv6gateway IPV6GATEWAY"

   Default gateway, as a single IPv6 address.

   New in version Fedora19.

"--teamslaves TEAMSLAVES"

   Team device with name specified by "--device" option will be
   created using slaves specified in this option. Slaves are separated
   by comma. A slave can be followed by its configuration which is a
   single-quoted json format string with double qoutes escaped by "''"
   character. Example:

      ``--teamslaves="p3p1'{"prio": -10, "sticky": true}',p3p2'{"prio": 100}'"``.

   See also "--teamconfig" option.

   New in version Fedora20.

"--teamconfig TEAMCONFIG"

   Double-quoted team device configuration which is a json format
   string with double quotes escaped with "''" character. The device
   name is specified by "--device" option and its slaves and their
   configuration by "--teamslaves" option. Example:

      ``network --device team0 --activate --bootproto static --ip=10.34.102.222 --netmask=255.255.255.0 --gateway=10.34.102.254 --nameserver=10.34.39.2 --teamslaves="p3p1'{"prio": -10, "sticky": true}',p3p2'{"prio": 100}'" --teamconfig="{"runner": {"name": "activebackup"}}"``

   New in version Fedora20.

"--interfacename INTERFACENAME"

   Specify a custom interface name for a virtual LAN device. This
   option should be used when the default name generated by the "--
   vlanid=" option is not desirable. This option must be used along
   with "--vlanid=". For example:

      ``network --device=em1 --vlanid=171 --interfacename=vlan171``

   The above command creates a virtual LAN interface named "vlan171"
   on the em1 device with an ID of 171. The interface name can be
   arbitrary (for example, "my-vlan"), but in specific cases, the
   following conventions must be followed:

   If the name contains a dot (.), it must take the form of NAME.ID.
   The NAME is arbitrary, but the ID must be the VLAN ID. For example:
   "em1.171" or "my-vlan.171".  Names starting with vlan must take the
   form of vlanID - for example: "vlan171".

   New in version Fedora21.

"--bridgeslaves BRIDGESLAVES"

   When this option is used, the network bridge with device name
   specified using the "--device=" option will be created and devices
   defined in the "--bridgeslaves=" option will be added to the
   bridge. For example:

      ``network --device=bridge0 --bridgeslaves=em1``

   New in version Fedora22.

"--bridgeopts BRIDGEOPTS"

   An optional comma-separated list of parameters for the bridged
   interface.  Available values are "stp", "priority", "forward-
   delay", "hello-time", "max-age", and "ageing-time". For information
   about these parameters, see the bridge setting table in the nm-
   settings(5) man page or at
   https://developer.gnome.org/NetworkManager/0.9/ref-settings.html.

   New in version Fedora22.

"--no-activate"

   Use this option with first network command to prevent activation of
   the device in istaller environment

   New in version Fedora25.

"--bindto {mac}"

   Optionally allows to specify how the connection configuration
   created for the device should be bound. If the option is not used,
   the connection binds to interface name ("DEVICE" value in ifcfg
   file). For virtual devices (bond, team, bridge) it configures
   binding of slaves. Not applicable to vlan devices.

   Note that this option is independent of how the "--device" is
   specified.

   Currently only the value "mac" is suported. "--bindto=mac" will
   bind the connection to MAC address of the device ("HWADDR" value in
   ifcfg file).

   For example:

      ``network --device=01:23:45:67:89:ab --bootproto=dhcp --bindto=mac``

   will bind the configuration of the device specified by MAC address
   "01:23:45:67:89:ab" to its MAC address.

   "network --device=01:23:45:67:89:ab --bootproto=dhcp"

   will bind the configuration of the device specified by MAC address
   "01:23:45:67:89:ab" to its interface name (eg "ens3").

   "network --device=ens3 --bootproto=dhcp --bindto=mac"

   will bind the configuration of the device specified by interface
   name "ens3" to its MAC address.

   New in version Fedora27.


nfs
---

   nfs --server <hostname> --dir <directory> [--opts <options>]

New in version Fedora3.

Install from the NFS server specified. This can either be an exploded
installation tree or a directory of ISO images. In the latter case,
the install.img must also be provided subject to the same rules as
with the harddrive installation method described above.

optional arguments:

"--server <hostname>"

   Server from which to install (hostname or IP).

   New in version Fedora3.

"--dir <directory>"

   Directory containing the "Packages/" directory of the installation
   tree. If doing an ISO install, this directory must also contain
   images/install.img.

   New in version Fedora3.

"--opts <options>"

   Mount options to use for mounting the NFS export. Any options that
   can be specified in "/etc/fstab" for an NFS mount are allowed. The
   options are listed in the "nfs(5)" man page. Multiple options are
   separated with a comma.

   New in version Fedora6.


nvdimm
------

   nvdimm [--namespace <namespace>]
      [--blockdevs <devspec1>,<devspec2>,...,<devspecN>] [--mode {sector}]
      [--sectorsize SECTORSIZE]
      {reconfigure,use}

New in version Fedora28.

Perform an action on an nvdimm device.

positional arguments:

"{reconfigure,use}"

   The action to be performed on the device specified by further
   options. The device can be specified by "--namespace" or "--
   blockdevs" options, depending on the action.

   Valid actions: - "reconfigure": Reconfigures the device specified
   by "--namespace" into the mode specified by "--mode" and (depending
   on the mode) "--sectorsize" options. The device reconfigured into
   sector mode will be allowed to be used for storage configuration. -
   "use": Allow the device to be used for storage configuration. By
   default nvdimm devices are ignored. Only devices in sector mode can
   be used.

   New in version Fedora28.

optional arguments:

"--namespace <namespace>"

   The device specification by namespace.

   New in version Fedora28.

"--blockdevs <devspec1>,<devspec2>,...,<devspecN>"

   Specification of devices by comma separated list of block device
   names.

   New in version Fedora28.

"--mode {sector}"

   The mode specification.

   New in version Fedora28.

"--sectorsize SECTORSIZE"

   Size of a sector for sector mode.

   New in version Fedora28.


ostreesetup
-----------

   ostreesetup --osname OSNAME [--remote REMOTE] --url URL --ref REF [--nogpg]

New in version Fedora21.

Used for OSTree installations. See
https://wiki.gnome.org/action/show/Projects/OSTree for more
information about OSTree.

optional arguments:

"--osname OSNAME"

   Management root for OS installation.

   New in version Fedora21.

"--remote REMOTE"

   Management root for OS installation.

   New in version Fedora21.

"--url URL"

   Repository URL.

   New in version Fedora21.

"--ref REF"

   Name of branch inside the repository.

   New in version Fedora21.

"--nogpg"

   Disable GPG key verification.

   New in version Fedora21.


part or partition
-----------------

   part|partition [--asprimary] [--fstype FSTYPE] [--grow] [--maxsize MAXSIZEMB]
              [--noformat] [--onbiosdisk ONBIOSDISK] [--ondisk DISK]
              [--onpart ONPART] [--recommended] [--size SIZE]
              [--fsoptions FSOPTS] [--label LABEL] [--fsprofile FSPROFILE]
              [--encrypted] [--passphrase PASSPHRASE] [--escrowcert <url>]
              [--backuppassphrase] [--resize] [--hibernation]
              [--cipher CIPHER] [--mkfsoptions MKFSOPTS]
              [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
              [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
              [--pbkdf-iterations PBKDF_ITERATIONS]
              <mntpoint>

New in version Fedora3.

Creates a partition on the system. This command is required. All
partitions created will be formatted as part of the installation
process unless "--noformat" and "--onpart" are used.

Note:

  "part|partition" cannot be used with the following commands:
  autopart, mount

positional arguments:

"<mntpoint>"

   The "<mntpoint>" is where the partition will be mounted and must be
   of one of the following forms:

   "/<path>"

   For example, "/", "/usr", "/home"

   "swap"

   The partition will be used as swap space.

   "raid.<id>"

   The partition will be used for software RAID. Refer to the "raid"
   command.

   "pv.<id>"

   The partition will be used for LVM. Refer to the "logvol" command.

   "btrfs.<id>"

   The partition will be used for BTRFS volume. Rerefer to the "btrfs"
   command.

   "biosboot"

   The partition will be used for a BIOS Boot Partition. As of Fedora
   16 there must be a biosboot partition for the bootloader to be
   successfully installed onto a disk that contains a GPT/GUID
   partition table. Rerefer to the "bootloader" command.

   New in version Fedora3.

optional arguments:

"--asprimary"

   Forces automatic allocation of the partition as a primary partition
   or the partitioning will fail.

   **TIP:** The "--asprimary" option only makes sense with the MBR
   partitioning scheme and is ignored when the GPT partitioning scheme
   is used.

   New in version Fedora3.

"--fstype FSTYPE, --type FSTYPE"

   Sets the file system type for the partition. Valid values include
   ext4, ext3, ext2, xfs, btrfs, swap, and vfat. Other filesystems may
   be valid depending on command line arguments passed to anaconda to
   enable other filesystems.

   New in version Fedora3.

"--grow"

   Tells the partition to grow to fill available space (if any), or up
   to the maximum size setting. Note that "--grow" is not supported
   for partitions containing a RAID volume on top of them.

   New in version Fedora3.

"--maxsize MAXSIZEMB"

   The maximum size in MiB the partition may grow to. Specify an
   integer value here, and do not append any units. This option is
   only relevant if "--grow" is specified as well.

   New in version Fedora3.

"--noformat"

   Tells the installation program not to format the partition, for use
   with the "--onpart" command.

   New in version Fedora3.

"--onbiosdisk ONBIOSDISK"

   Forces the partition to be created on a particular disk as
   discovered by the BIOS.

   New in version Fedora3.

"--ondisk DISK, --ondrive DISK"

   Forces the partition to be created on a particular disk.

   New in version Fedora3.

"--onpart ONPART, --usepart ONPART"

   Put the partition on an already existing device. Use "--
   onpart=LABEL=name" or "--onpart=UUID=name" to specify a partition
   by label or uuid respectively.

   Anaconda may create partitions in any particular order, so it is
   safer to use labels than absolute partition names.

   New in version Fedora3.

"--recommended"

   Determine the size of the partition automatically.

   New in version Fedora3.

"--size SIZE"

   The minimum partition size in MiB. Specify an integer value here
   and do not append any units.

   New in version Fedora3.

"--fsoptions FSOPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the /etc/fstab file
   of the installed system and should be enclosed in quotes.

   New in version Fedora4.

"--label LABEL"

   Specify the label to give to the filesystem to be made on the
   partition. If the given label is already in use by another
   filesystem, a new label will be created for this partition.

   New in version Fedora4.

"--bytes-per-inode BYTES_PER_INODE"

   Specify the bytes/inode ratio.

   New in version Fedora4.

   Deprecated since version Fedora9.

   Removed in version Fedora14.

"--fsprofile FSPROFILE"

   Specifies a usage type to be passed to the program that makes a
   filesystem on this partition. A usage type defines a variety of
   tuning parameters to be used when making a filesystem. For this
   option to work, the filesystem must support the concept of usage
   types and there must be a configuration file that lists valid
   types. For ext2/3/4, this configuration file is "/etc/mke2fs.conf".

   New in version Fedora9.

"--encrypted"

   Specify that this partition should be encrypted.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Specify the passphrase to use when encrypting this partition.
   Without the above –encrypted option, this option does nothing. If
   no passphrase is specified, the default system-wide one is used, or
   the installer will stop and prompt if there is no default.

   New in version Fedora9.

"--start START"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora11.

   Removed in version Fedora14.

"--end END"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora11.

   Removed in version Fedora14.

"--escrowcert <url>"

   Load an X.509 certificate from "<url>". Store the data encryption
   key of this partition, encrypted using the certificate, as a file
   in "/root". Only relevant if "--encrypted" is specified as well.

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified as well. In addition
   to storing the data encryption key, generate a random passphrase
   and add it to this partition. Then store the passphrase, encrypted
   using the certificate specified by "--escrowcert", as a file in
   "/root". If more than one LUKS volume uses "--backuppassphrase",
   the same passphrase will be used for all such volumes.

   New in version Fedora12.

"--resize"

   Attempt to resize this partition to the size given by "--size=".
   This option must be used with "--onpart --size=", or an error will
   be raised.

   New in version Fedora17.

"--hibernation"

   This option can be used to automatically determine the size of the
   swap partition big enough for hibernation.

   New in version Fedora18.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. This is similar to "--
   fsprofile" but works for all filesystems, not just the ones that
   support the profile concept. No processing is done on the list of
   arguments, so they must be supplied in a format that can be passed
   directly to the mkfs program. This means multiple options should be
   comma-separated or surrounded by double quotes, depending on the
   filesystem.

   New in version Fedora23.

"--active"

   Set partition as active

   New in version Fedora3.

   Deprecated since version Fedora29.

   Removed in version Fedora34.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

If partitioning fails for any reason, diagnostic messages will appear
on virtual console 3.


raid
----

   raid --device DEVICE [--fstype FSTYPE] [--level LEVEL] [--noformat]
    [--spares SPARES] [--useexisting] [--fsoptions FSOPTS]
    [--fsprofile FSPROFILE] [--encrypted] [--passphrase PASSPHRASE]
    [--escrowcert <url>] [--backuppassphrase] [--label LABEL]
    [--cipher CIPHER] [--mkfsoptions MKFSOPTS] [--chunksize CHUNK_SIZE]
    [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
    [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
    [--pbkdf-iterations PBKDF_ITERATIONS]
    <mntpoint> [<partitions*> [<partitions*> ...]]

New in version Fedora3.

Assembles a software RAID device.

Note:

  "raid" cannot be used with the following commands: autopart, mount

positional arguments:

"<mntpoint>"

   Location where the RAID file system is mounted. If it is /, the
   RAID level must be 1 unless a boot partition (/boot) is present. If
   a boot partition is present, the /boot partition must be level 1
   and the root (/) partition can be any of the available types.

   New in version Fedora3.

"<partitions*>"

   The software raid partitions lists the RAID identifiers to add to
   the RAID array.

   New in version Fedora3.

optional arguments:

"--device DEVICE"

   Name of the RAID device to use (such as ‘fedora-root’ or ‘home’).
   As of Fedora 19, RAID devices are no longer referred to by names
   like ‘md0’. If you have an old (v0.90 metadata) array that you
   cannot assign a name to, you can specify the array by a filesystem
   label or UUID (eg: –device=LABEL=fedora-root).

   New in version Fedora3.

"--fstype FSTYPE"

   Sets the file system type for the RAID array. Valid values include
   ext4, ext3, ext2, btrfs, swap, and vfat. Other filesystems may be
   valid depending on command line arguments passed to anaconda to
   enable other filesystems.

   New in version Fedora3.

"--level LEVEL"

   RAID level to use {‘RAID5’, ‘RAID10’, ‘RAID6’, ‘RAID0’, ‘RAID4’,
   ‘RAID1’}.

   New in version Fedora3.

   Changed in version Fedora7.

   The “RAID10” level was added.

   Changed in version Fedora13.

   The “RAID4” level was added.

"--noformat"

   Use an existing RAID device and do not format the RAID array.

   New in version Fedora3.

"--spares SPARES"

   Specifies the number of spare drives allocated for the RAID array.
   Spare drives are used to rebuild the array in case of drive
   failure.

   New in version Fedora3.

"--useexisting"

   Use an existing RAID device and reformat it.

   New in version Fedora3.

"--fsoptions FSOPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the /etc/fstab file
   of the installed system and should be enclosed in quotes.

   New in version Fedora4.

"--bytes-per-inode BYTES_PER_INODE"

   Specify the bytes/inode ratio.

   New in version Fedora5.

   Deprecated since version Fedora9.

   Removed in version Fedora14.

"--fsprofile FSPROFILE"

   Specifies a usage type to be passed to the program that makes a
   filesystem on this partition. A usage type defines a variety of
   tuning parameters to be used when making a filesystem. For this
   option to work, the filesystem must support the concept of usage
   types and there must be a configuration file that lists valid
   types. For ext2/3/4, this configuration file is "/etc/mke2fs.conf".

   New in version Fedora9.

"--encrypted"

   Specify that this RAID device should be encrypted.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Specify the passphrase to use when encrypting this RAID device.
   Without the above –encrypted option, this option does nothing. If
   no passphrase is specified, the default system-wide one is used, or
   the installer will stop and prompt if there is no default.

   New in version Fedora9.

"--escrowcert <url>"

   Load an X.509 certificate from "<url>". Store the data encryption
   key of this partition, encrypted using the certificate, as a file
   in "/root". Only relevant if "--encrypted" is specified as well.

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified as well. In addition
   to storing the data encryption key, generate a random passphrase
   and add it to this partition. Then store the passphrase, encrypted
   using the certificate specified by "--escrowcert", as a file in
   "/root". If more than one LUKS volume uses "--backuppassphrase",
   the same passphrase will be used for all such volumes.

   New in version Fedora12.

"--label LABEL"

   Specify the label to give to the filesystem to be made. If the
   given label is already in use by another filesystem, a new label
   will be created.

   New in version Fedora15.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program. This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora23.

"--chunksize CHUNK_SIZE"

   Specify the chunk size (in KiB) for this RAID array.

   New in version Fedora25.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

The following example shows how to create a RAID level 1 partition for
/, and a RAID level 5 for /usr, assuming there are three disks on the
system. It also creates three swap partitions, one on each drive:

   part raid.01 --size=6000 --ondisk=sda
   part raid.02 --size=6000 --ondisk=sdb
   part raid.03 --size=6000 --ondisk=sdc

   part swap1 --size=512 --ondisk=sda
   part swap2 --size=512 --ondisk=sdb
   part swap3 --size=512 --ondisk=sdc

   part raid.11 --size=6000 --ondisk=sda
   part raid.12 --size=6000 --ondisk=sdb
   part raid.13 --size=6000 --ondisk=sdc

   raid / --level=1 --device=md0 raid.01 raid.02 raid.03
   raid /usr --level=5 --device=md1 raid.11 raid.12 raid.13


realm
-----

   realm

New in version Fedora19.

define an Active Directory realm to join


repo
----

   repo --name NAME [--baseurl BASEURL] [--mirrorlist MIRRORLIST] [--cost COST]
    [--excludepkgs EXCLUDEPKGS] [--includepkgs INCLUDEPKGS] [--proxy PROXY]
    [--noverifyssl] [--install] [--metalink METALINK] [--sslcacert SSLCACERT]
    [--sslclientcert SSLCLIENTCERT] [--sslclientkey SSLCLIENTKEY]
    [--ignoregroups IGNOREGROUPS]

New in version Fedora6.

Configures additional yum repositories that may be used as sources for
package installation. Multiple repo lines may be specified. By
default, anaconda has a configured set of repos taken from
/etc/anaconda.repos.d plus a special Installation Repo in the case of
a media install. The exact set of repos in this directory changes from
release to release and cannot be listed here. There will likely always
be a repo named “updates”.

Note: If you want to enable one of the repos in /etc/anaconda.repos.d
that is disabled by default (like “updates”), you should use –name=
but none of the other options. anaconda will look for a repo by this
name automatically. Providing a baseurl or mirrorlist URL will result
in anaconda attempting to add another repo by the same name, which
will cause a conflicting repo error.

optional arguments:

"--name NAME"

   The repo id. This option is required. The RepoId must not contain
   spaces (do not confuse with the optional name used by yum). If a
   repo has a name that conflicts with a previously added one, the new
   repo will be ignored. Because anaconda has a populated list of
   repos when it starts, this means that users cannot create new repos
   that override these names. Please check /etc/anaconda.repos.d from
   the operating system you wish to install to see what names are not
   available.

   New in version Fedora6.

"--baseurl BASEURL"

   The URL for the repository. The variables that may be used in yum
   repo config files are not supported here. You may use one of either
   this option or "--mirrorlist", not both. If an NFS repository is
   specified, it should be of the form "nfs://host:/path/to/repo".
   Note that there is a colon after the host. Anaconda passes
   everything after “nfs:// “ directly to the mount command instead of
   parsing URLs according to RFC 2224. Variable substitution is done
   for $releasever and $basearch in the url.

   New in version Fedora6.

   Changed in version Fedora15.

   "--mirrorlist" and "--baseurl" are not required anymore!

   Changed in version Fedora27.

   "Another mutually exclusive option --metalink" was added.

"--mirrorlist MIRRORLIST"

   The URL pointing at a list of mirrors for the repository. The
   variables that may be used in yum repo config files are not
   supported here. You may use one of either this option or "--
   baseurl", not both. Variable substitution is done for $releasever
   and $basearch in the url.

   New in version Fedora6.

   Changed in version Fedora15.

   "--mirrorlist" and "--baseurl" are not required anymore!

   Changed in version Fedora27.

   "Another mutually exclusive option --metalink" was added.

"--cost COST"

   An integer value to assign a cost to this repository. If multiple
   repositories provide the same packages, this number will be used to
   prioritize which repository will be used before another.
   Repositories with a lower cost take priority over repositories with
   higher cost.

   New in version Fedora8.

"--excludepkgs EXCLUDEPKGS"

   A comma-separated list of package names and globs that must not be
   fetched from this repository. This is useful if multiple
   repositories provide the same package and you want to make sure it
   is not fetched from a particular repository during installation.

   New in version Fedora8.

"--includepkgs INCLUDEPKGS"

   A comma-separated list of package names and globs that can be
   pulled from this repository. Any other packages provided by the
   repository not on this list will be ignored. This is useful if you
   want to install just a single package or set of packages from a
   repository while including all other packages the repository
   provides.

   New in version Fedora8.

"--proxy PROXY"

   Specify an HTTP/HTTPS/FTP proxy to use just for this repository.
   This setting does not affect any other repositories, nor how the
   install.img is fetched on HTTP installs. The various parts of the
   argument act like you would expect. The syntax is:

      ``--proxy=[protocol://][username[:password]@]host[:port]``

   New in version Fedora13.

"--noverifyssl"

   For a https repo do not check the server’s certificate with what
   well-known CA validate and do not check the server’s hostname
   matches the certificate’s domain name.

   New in version Fedora14.

"--install"

   Install this repository to the target system so that it can be used
   after reboot.

   New in version Fedora21.

"--metalink METALINK"

   The URL pointing at a metalink for the repository. The variables
   that may be used in yum repo config files are not supported here.
   You may use only one of the "--baseurl", "--mirrorlist", or "--
   metalink" options. Variable substitution is done for $releasever
   and $basearch in the url.

   New in version Fedora27.

"--sslcacert SSLCACERT"

   Path to the file holding one or more SSL certificates to verify the
   repository host with.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientcert SSLCLIENTCERT"

   Path to the SSL client certificate (PEM file) which should be used
   to connect to the repository.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientkey SSLCLIENTKEY"

   Path to the private key file associated with the client certificate
   given with –sslclientcert.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--ignoregroups IGNOREGROUPS"

   This option is used when composing installation trees and has no
   effect on the installation process itself. It tells the compose
   tools to not look at the package group information when mirroring
   trees so as to avoid mirroring large amounts of unnecessary data.

   New in version Fedora11.

   Deprecated since version Fedora33.


reqpart
-------

   reqpart [--add-boot]

New in version Fedora23.

Automatically create partitions required by your hardware platform.
These include a "/boot/efi" for x86_64 and Aarch64 systems with UEFI
firmware, "biosboot" for x86_64 systems with BIOS firmware and GPT,
and "PRePBoot" for IBM Power Systems.

Note: This command can not be used together with "autopart", because
"autopart" does the same and creates other partitions or logical
volumes such as "/" and "swap" on top. In contrast with "autopart",
this command only creates platform-specific partitions and leaves the
rest of the drive empty, allowing you to create a custom layout.

Note:

  "reqpart" cannot be used with the following commands: autopart,
  mount

optional arguments:

"--add-boot"

   Create a separate "/boot" partition in addition to the platform-
   specific partition created by the base command.

   New in version Fedora23.


rescue
------

   rescue [--nomount] [--romount]

New in version Fedora10.

Automatically enter the installer’s rescue mode. This gives you a
chance to repair the system should something catastrophic happen.

optional arguments:

"--nomount"

   Don’t mount the installed system.

   New in version Fedora10.

"--romount"

   Mount the installed system in read-only mode.

   New in version Fedora10.

By default, the installer will find your system and mount it in read-
write mode, telling you where it has performed this mount. You may
optionally choose to not mount anything or mount in read-only mode.
Only one of these two options may be given at any one time.


rootpw
------

   rootpw [--iscrypted] [--lock] [--plaintext] [<password>]

New in version Fedora3.

This required command sets the system’s root password.

positional arguments:

"<password>"

   The desired root password.

   New in version Fedora3.

optional arguments:

"--iscrypted"

   If this is present, the password argument is assumed to already be
   encrypted. To create an encrypted password you can use python:

      ``python -c 'import crypt; print(crypt.crypt("My Password", "$6$My Salt"))'``

   This will generate sha512 crypt of your password using your
   provided salt.

   New in version Fedora3.

"--lock"

   If this is present, the root account is locked by default. That is,
   the root user will not be able to login from the console. When this
   option is present the <password> argument is not required.

   New in version Fedora8.

"--plaintext"

   The password argument is assumed to not be encrypted. This is the
   default!

   New in version Fedora8.


selinux
-------

   selinux [--disabled] [--enforcing] [--permissive]

New in version Fedora3.

Sets the state of SELinux on the installed system. SELinux defaults to
enforcing in anaconda.

optional arguments:

"--disabled"

   If this is present, SELinux is disabled.

   New in version Fedora3.

"--enforcing"

   If this is present, SELinux is set to enforcing mode.

   New in version Fedora3.

"--permissive"

   If this is present, SELinux is enabled, but only logs things that
   would be denied in enforcing mode.

   New in version Fedora3.

Only one of "--disabled", "--enabled" or "--permissive" must be
specified!


services
--------

   services [--disabled <list>] [--enabled <list>]

New in version Fedora6.

Modifies the default set of services that will run under the default
runlevel. The services listed in the disabled list will be disabled
before the services listed in the enabled list are enabled.

optional arguments:

"--disabled <list>"

   Disable the services given in the comma separated list.

   New in version Fedora6.

"--enabled <list>"

   Enable the services given in the comma separated list.

   New in version Fedora6.

One of "--disabled" or "--enabled" must be provided.


skipx
-----

   skipx

New in version Fedora3.

If present, X is not configured on the installed system.


snapshot
--------

   snapshot --name <snapshot_name> --when <post-install|pre-install>
        <originVG/originLV>

New in version Fedora26.

Create an LVM snapshot for devices on an LVM thin pool.

positional arguments:

"<originVG/originLV>"

   Origin of the snapshot. The origin is specified as "<VG>/<LV>".

   New in version Fedora26.

optional arguments:

"--name <snapshot_name>"

   Name of the newly created snapshot.

   New in version Fedora26.

"--when <post-install|pre-install>"

   You can specify two possible values: "pre-install" and "post-
   install". When the "pre-install" value is used the snapshot is
   created before the installation but after the "%pre" section is
   run. When the "post-install" value is used the snapshot is created
   after the installation is done and after the "%post" section is
   run.

   New in version Fedora26.


sshkey
------

   sshkey --username <user> "ssh key"

New in version Fedora22.

This installs a ssh key to the authorized_keys file of the specified
user on the installed system.

positional arguments:

""ssh key""

   The content of the ssh key to install.

   New in version Fedora22.

optional arguments:

"--username <user>"

   User for which to install the specified key. This option is
   required.

   New in version Fedora22.

Note that the key should be quoted, if it contains spaces and the user
should exist (or be root) either via creation by a package install or
the kickstart "user" command.


sshpw
-----

   sshpw --username <name> [--iscrypted] [--plaintext] [--lock] [--sshkey]
     [<password> [<password> ...]]

New in version Fedora13.

The installer can start up ssh to provide for interactivity and
inspection, just like it can with telnet. The “inst.sshd” option must
be specified on the kernel command-line for Anaconda to start an ssh
daemon. The sshpw command is used to control the accounts created in
the installation environment that may be remotely logged into. For
each instance of this command given, a user will be created. These
users will not be created on the final system - they only exist for
use while the installer is running.

Note that by default, root has a blank password. If you don’t want any
user to be able to ssh in and have full access to your hardware, you
must specify sshpw for username root. Also note that if Anaconda fails
to parse the kickstart file, it will allow anyone to login as root and
have full access to your hardware.

positional arguments:

"<password>"

   The password string to use.

   New in version Fedora13.

optional arguments:

"--username <name>"

   Provides the name of the user. This option is required.

   New in version Fedora13.

"--iscrypted"

   If this is present, the password argument is assumed to already be
   encrypted.

   New in version Fedora13.

"--plaintext"

   If this is present, the password argument is assumed to not be
   encrypted. This is the default.

   New in version Fedora13.

"--lock"

   If this is present, the new user account is locked by default. That
   is, the user will not be able to login from the console.

   New in version Fedora13.

"--sshkey"

   If this is used then the <password> string is interpreted as an ssh
   key value.

   New in version Fedora24.


timesource
----------

   timesource [--ntp-server NTP_SERVER] [--ntp-pool NTP_POOL] [--ntp-disable]
          [--nts]

New in version Fedora33.

Configures a timesource.

optional arguments:

"--ntp-server NTP_SERVER"

   A single NTP server.

   "--ntp-server", "--ntp-pool" and "--ntp-disable" are mutually
   exclusive.

   New in version Fedora33.

"--ntp-pool NTP_POOL"

   A single NTP pool.

   "--ntp-pool", "--ntp-server" and "--ntp-disable" are mutually
   exclusive.

   New in version Fedora33.

"--ntp-disable"

   If specified, disable any NTP based time sync, both on target
   system as well as in installation environment.

   New in version Fedora33.

"--nts"

   If specified, consider the provided hostname to be a NTS compatible
   time source. Without the "--nts" option it will be considered to be
   a plain NTP time source without NTS support.

   New in version Fedora33.


timezone
--------

   timezone [--utc] [--nontp] [--ntpservers <server1>,<server2>,...,<serverN>]
        [<timezone> [<timezone> ...]]

New in version Fedora3.

This required command sets the system time zone to which may be any of
the time zones listed by timeconfig.

positional arguments:

"<timezone>"

   Timezone name, e.g. Europe/Sofia. This is optional but at least one
   of the options needs to be used if no timezone is specified.

   New in version Fedora3.

optional arguments:

"--utc, --isUtc"

   If present, the system assumes the hardware clock is set to UTC
   (Greenwich Mean) time.

   *To get the list of supported timezones, you can either run this
   script: http://vpodzime.fedorapeople.org/timezones_list.py or look
   at this list: http://vpodzime.fedorapeople.org/timezones_list.txt*

   New in version Fedora6.

"--nontp"

   Disable automatic starting of NTP service.

   "--nontp" and "--ntpservers" are mutually exclusive.

   New in version Fedora18.

"--ntpservers <server1>,<server2>,...,<serverN>"

   Specify a list of NTP servers to be used (comma-separated list with
   no spaces). The chrony package is automatically installed when this
   option is used. If you don’t want the package to be automatically
   installed then use "-chrony" in package selection. For example:

      ``timezone --ntpservers=ntp.cesnet.cz,tik.nic.cz Europe/Prague``

   New in version Fedora18.


updates
-------

   updates [URL]

New in version Fedora7.

Specify the location of an updates.img for use in installation.

positional arguments:

"[URL]"

   If present, the URL for an updates image.

   If not present, anaconda will attempt to load from a floppy disk.

   New in version Fedora7.

   Changed in version Fedora34.

   The URL for an updates image is required. Anaconda no longer
   supports updates on a floppy disk.


install or upgrade
------------------

   install|upgrade [--root-device ROOT_DEVICE]

New in version Fedora3.

Install a fresh system or upgrade an existing system. Install is the
default mode. For installation, you must specify the type of
installation from one of cdrom, harddrive, nfs, or url (for ftp or
http installations). The install command and the installation method
command must be on separate lines.

Deprecated since version Fedora20.

Starting with F18, upgrades are no longer supported in anaconda and
should be done with FedUp, the Fedora update tool. Starting with F21,
the DNF system-upgrade plugin is recommended instead.  Therefore, the
upgrade command essentially does nothing.

Removed in version Fedora29.

optional arguments:

"--root-device ROOT_DEVICE"

   On a system with multiple installs, this option specifies which
   filesystem holds the installation to be upgraded. This can be
   specified by device name, UUID=, or LABEL= just like the harddrive
   command may be.

   New in version Fedora11.


url
---

   url [--proxy URL] [--noverifyssl] [--mirrorlist URL] [--url URL]
   [--metalink URL] [--sslcacert SSLCACERT] [--sslclientcert SSLCLIENTCERT]
   [--sslclientkey SSLCLIENTKEY]

New in version Fedora3.

Install from an installation tree on a remote server via FTP or HTTP.

optional arguments:

"--proxy URL"

   Specify an HTTP/HTTPS/FTP proxy to use while performing the
   install. The various parts of the argument act like you would
   expect. The syntax is:

      [protocol://][username[:password]@]host[:port]

   New in version Fedora13.

"--noverifyssl"

   For a tree on a HTTPS server do not check the server’s certificate
   with what well-known CA validate and do not check the server’s
   hostname matches the certificate’s domain name.

   New in version Fedora14.

"--mirrorlist URL"

   The mirrorlist URL to install from. Variable substitution is done
   for $releasever and $basearch in the url.

   New in version Fedora18.

"--url URL"

   The URL to install from. Variable substitution is done for
   $releasever and $basearch in the url.

   New in version Fedora3.

   Changed in version Fedora18.

   Only one of the –url or –mirrorlist can be specified.

   Changed in version Fedora27.

   Only one of the –url, –mirrorlist or –metalink can be specified.

"--metalink URL"

   The metalink URL to install from. Variable substitution is done for
   $releasever and $basearch in the url.

   New in version Fedora27.

"--sslcacert SSLCACERT"

   Path to the file holding one or more SSL certificates to verify the
   repository host with.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientcert SSLCLIENTCERT"

   Path to the SSL client certificate (PEM file) which should be used
   to connect to the repository.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientkey SSLCLIENTKEY"

   Path to the private key file associated with the client certificate
   given with –sslclientcert.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.


user
----

   user [--homedir HOMEDIR] [--iscrypted] --name NAME [--password PASSWORD]
    [--shell SHELL] [--uid INT] [--lock] [--plaintext] [--gecos GECOS]
    [--gid INT] [--groups GROUPS]

New in version Fedora6.

Creates a new user on the system.

optional arguments:

"--homedir HOMEDIR"

   The home directory for the user. If not provided, this defaults to
   /home/.

   New in version Fedora6.

"--iscrypted"

   If specified, consider the password provided by "--password"
   already encrypted. This is the default.

   New in version Fedora6.

"--name NAME"

   Provides the name of the user. This option is required.

   New in version Fedora6.

"--password PASSWORD"

   The new user’s password. If not provided, the account will be
   locked by default. If this is present, the password argument is
   assumed to already be encrypted. "--plaintext" has the opposite
   effect - the password argument is assumed to not be encrypted. To
   create an encrypted password you can use python:

      ``python -c 'import crypt; print(crypt.crypt("My Password", "$6$My Sault"))'``

   This will generate sha512 crypt of your password using your
   provided salt.

   New in version Fedora6.

"--shell SHELL"

   The user’s login shell. If not provided, this defaults to the
   system default.

   New in version Fedora6.

"--uid INT"

   The user’s UID. If not provided, this defaults to the next
   available non-system UID.

   New in version Fedora6.

"--lock"

   If this is present, the new user account is locked by default. That
   is, the user will not be able to login from the console.

   New in version Fedora8.

"--plaintext"

   If specified, consider the password provided by "--password" to be
   plain text.

   New in version Fedora8.

"--gecos GECOS"

   Provides the GECOS information for the user. This is a string of
   various system-specific fields separated by a comma. It is
   frequently used to specify the user’s full name, office number, and
   the like. See "man 5 passwd" for more details.

   New in version Fedora12.

"--gid INT"

   The GID of the user’s primary group. If not provided, this defaults
   to the next available non-system GID.

   New in version Fedora19.

"--groups GROUPS"

   In addition to the default group, a comma separated list of group
   names the user should belong to. Any groups that do not already
   exist will be created. If the group already exists with a different
   GID, an error will be raised.

   New in version Fedora6.

   Changed in version Fedora24.

   The group name can optionally be followed by a GID in parenthesis,
   for example, "newgroup(5002)".


vnc
---

   vnc [--password PASSWORD] [--host HOST] [--port PORT]

New in version Fedora3.

Allows the graphical installation to be viewed remotely via VNC. This
method is usually preferred over text mode, as there are some size and
language limitations in text installs. With no options, this command
will start a VNC server on the machine with no password and will print
out the command that needs to be run to connect a remote machine.

optional arguments:

"--password PASSWORD"

   Set a password which must be provided to connect to the VNC
   session. This is optional, but recommended.

   New in version Fedora3.

"--connect host[:port]"

   Connect to a remote host instead of starting VNC server locally.

   New in version Fedora3.

   Changed in version Fedora6.

   Added support for host[:port] syntax.

   Removed in version Fedora9.

"--host HOST"

   Instead of starting a VNC server on the install machine, connect to
   the VNC viewer process listening on the given hostname.

   New in version Fedora6.

"--port PORT"

   Provide a port that the remote VNC viewer process is listening on.
   If not provided, anaconda will use the VNC default.

   New in version Fedora6.


volgroup
--------

   volgroup [--noformat] [--useexisting] [--reserved-space RESERVED_SPACE]
        [--reserved-percent RESERVED_PERCENT] [--pesize PESIZE]
        [<name> [<name> ...]] [<partitions*> [<partitions*> ...]]

New in version Fedora3.

Creates a Logical Volume Management (LVM) group.

Note:

  "volgroup" cannot be used with the following commands: autopart,
  mount

positional arguments:

"<name>"

   Name given to the volume group. The (which denotes that multiple
   partitions can be listed) lists the identifiers to add to the
   volume group.

   New in version Fedora3.

"<partitions*>"

   Physical Volume partitions to be included in this Volume Group

   New in version Fedora3.

optional arguments:

"--noformat"

   Use an existing volume group. Do not specify partitions when using
   this option.

   New in version Fedora3.

"--useexisting"

   Use an existing volume group. Do not specify partitions when using
   this option.

   New in version Fedora3.

"--reserved-space RESERVED_SPACE"

   Specify an amount of space to leave unused in a volume group, in
   MiB. Do not append any units. This option is only used for new
   volume groups.

   New in version Fedora16.

"--reserved-percent RESERVED_PERCENT"

   Specify a percentage of total volume group space to leave unused
   (new volume groups only).

   New in version Fedora16.

"--pesize PESIZE"

   Set the size of the physical extents in KiB.

   New in version Fedora3.

   Changed in version Fedora21.

   Set the size of the physical extents in KiB.

Create the partition first, create the logical volume group, and then
create the logical volume. For example:

   part pv.01 --size 3000
   volgroup myvg pv.01
   logvol / --vgname=myvg --size=2000 --name=rootvol


xconfig
-------

   xconfig [--defaultdesktop GNOME|KDE] [--startxonboot]

New in version Fedora3.

Configures the X Window System. If this option is not given, Anaconda
will use X and attempt to automatically configure. Please try this
before manually configuring your system.

optional arguments:

"--defaultdesktop GNOME|KDE"

   Specify either GNOME or KDE to set the default desktop (assumes
   that GNOME Desktop Environment and/or KDE Desktop Environment has
   been installed through %packages).

   New in version Fedora3.

"--server SERVER"

   REMOVED

   New in version Fedora3.

   Removed in version Fedora6.

"--startxonboot"

   Use a graphical login on the installed system.

   New in version Fedora3.

"--card CARD"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--hsync HSYNC"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--monitor MONITOR"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--noprobe NOPROBE"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--vsync VSYNC"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--driver DRIVER"

   REMOVED

   New in version Fedora6.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--depth DEPTH"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--resolution RESOLUTION"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--videoram VIDEORAM"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.


zerombr
-------

   zerombr

New in version Fedora3.

If zerombr is specified, any disks whose formatting is unrecognized
are initialized. This will destroy all of the contents of disks with
invalid partition tables or other formatting unrecognizable to the
installer. It is useful so that the installation program does not ask
if it should initialize the disk label if installing to a brand new
hard drive.


zfcp
----

   zfcp --devnum DEVNUM --fcplun FCPLUN --wwpn WWPN

New in version Fedora3.

Define a Fibre channel device. This option only applies on IBM System
z.

optional arguments:

"--devnum DEVNUM"

   The device number (zFCP adaptor device bus ID).

   New in version Fedora3.

"--fcplun FCPLUN"

   The device’s Logical Unit Number (LUN). Takes the form of a
   16-digit number, preceded by 0x.

   New in version Fedora3.

"--wwpn WWPN"

   The device’s World Wide Port Name (WWPN). Takes the form of a
   16-digit number, preceded by 0x.

   New in version Fedora3.

"--scsiid SCSIID"

   SCSI ID

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.

"--scsilun SCSILUN"

   SCSI LUN

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.


zipl
----

   zipl [--secure-boot] [--force-secure-boot] [--no-secure-boot]

New in version Fedora32.

This command specifies the ZIPL configuration for s390x.

optional arguments:

"--secure-boot"

   Enable Secure Boot if supported by the installing machine.

   **Note** When installed on a model newer than IBM z14, the
   installed system cannot be booted from an IBM z14 and earlier
   models.

   New in version Fedora32.

"--force-secure-boot"

   Enable Secure Boot unconditionally.

   **Note** Installation will fail on IBM z14 and earlier models.

   New in version Fedora32.

"--no-secure-boot"

   Disable Secure Boot.

   **Note** Secure Boot is not supported on IBM z14 and earlier
   models, therefore choose ‘–no-secure-boot’ if you intend to boot
   the installed system on such models.

   New in version Fedora32.


%include
--------

Use the "%include /path/to/file" or "%include <url>" command to
include the contents of another file in the kickstart file as though
the contents were at the location of the "%include" command in the
kickstart file.

Note the semantics of most kickstart commands default to “last keyword
wins”, which means that for example if you have a "services
--enable=foo,bar" in one file, and *%include* that file and use
"services --enable=baz", only the "baz" service will be enabled.

The Kickstart documentation usually notes which commands support
multiple instances - this is mostly multi-line commands such as
"%packages" and "%post".  Other exceptions include the "user" and
"group" commands.  Consult individual command documentation for
semantics.


%ksappend
---------

The "%ksappend url" directive is very similar to "%include" in that it
is used to include the contents of additional files as though they
were at the location of the "%ksappend" directive. The difference is
in when the two directives are processed. "%ksappend" is processed in
an initial pass, before any other part of the kickstart file. Then,
this expanded kickstart file is passed to the rest of anaconda where
all "%pre" scripts are handled, and then finally the rest of the
kickstart file is processed in order, which includes "%include"
directives.

Thus, "%ksappend" provides a way to include a file containing "%pre"
scripts, while "%include" does not.


Chapter 3. Kickstart Commands in Red Hat Enterprise Linux
=========================================================

The following commands can be placed in a kickstart file. If you
prefer to use a graphical interface for creating your kickstart file,
you can use the Kickstart Configurator application.

Most commands take arguments.  If an argument is followed equals mark
("="), a value must be specified after it.

In the example commands, options in ‘’’[square brackets]’’’ are
optional arguments for the command.

pykickstart processes arguments to commands just like the shell does:

   If a list of arguments can be passed in, the arguments must be separated by
   commas and not include any extra spaces.  If extra spaces are required in the
   list of arguments, the entire argument must be surrounded by double quotes.
   If quotes, spaces, or other special characters need to be added to the
   arguments list, they must be escaped.


auth or authconfig
------------------

   auth|authconfig [options]

New in version Fedora3.

This required command sets up the authentication options for the
system. This is just a wrapper around the authconfig program, so all
options recognized by that program are valid for this command. See the
manual page for authconfig for a complete list.

By default, passwords are normally encrypted and are not shadowed.

Changed in version Fedora28.

The authconfig program is deprecated. This command will use the
authconfig compatibility tool, but you should use the authselect
command instead.

positional arguments:

"[options]"

   See "man authconfig".

   New in version Fedora3.


authselect
----------

   authselect [options]

New in version Fedora28.

This command sets up the authentication options for the system. This
is just a wrapper around the authselect program, so all options
recognized by that program are valid for this command. See the manual
page for authselect for a complete list.

positional arguments:

"[options]"

   See "man authselect".

   New in version Fedora28.


autopart
--------

   autopart [--encrypted] [--passphrase PASSPHRASE] [--escrowcert <url>]
        [--backuppassphrase] [--nolvm] [--type TYPE] [--cipher CIPHER]
        [--fstype FSTYPE] [--nohome] [--noboot] [--noswap]
        [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
        [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
        [--pbkdf-iterations PBKDF_ITERATIONS]

New in version Fedora3.

Automatically create partitions – a root ("/") partition, a swap
partition, and an appropriate boot partition for the architecture. On
large enough drives, this will also create a /home partition.

Note:

  "autopart" cannot be used with the following commands: partition,
  raid, volgroup, logvol, reqpart

optional arguments:

"--encrypted"

   Should all devices with support be encrypted by default? This is
   equivalent to checking the “Encrypt” checkbox on the initial
   partitioning screen.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Only relevant if "--encrypted" is specified. Provide a default
   system-wide passphrase for all encrypted devices.

   New in version Fedora9.

"--escrowcert <url>"

   Only relevant if "--encrypted" is specified. Load an X.509
   certificate from "<url>". Store the data encryption keys of all
   encrypted volumes created during installation, encrypted using the
   certificate, as files in "/root".

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified. In addition to
   storing the data encryption keys, generate a random passphrase and
   add it to all encrypted volumes created during installation. Then
   store the passphrase, encrypted using the certificate specified by
   "--escrowcert", as files in "/root" (one file for each encrypted
   volume).

   New in version Fedora12.

"--nolvm"

   Don’t use LVM when partitioning.

   New in version Fedora16.

   Changed in version Fedora17.

   The same as "--type=plain"

"--type TYPE"

   Select automatic partitioning scheme. Must be one of the following:
   [‘lvm’, ‘btrfs’, ‘plain’, ‘partition’, ‘thinp’]. Plain means
   regular partitions with no btrfs or lvm.

   New in version Fedora17.

   Changed in version Fedora20.

   Partitioning scheme ‘thinp’ was added.

   Changed in version RedHatEnterpriseLinux8.

   Partitioning scheme ‘btrfs’ was removed.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--fstype FSTYPE"

   Use the specified filesystem type on the partitions. Note that it
   cannot be used with "--type=btrfs" since btrfs is both a partition
   scheme and a filesystem. eg. "--fstype=ext4".

   New in version Fedora21.

   Changed in version RedHatEnterpriseLinux8.

   Partitioning scheme ‘btrfs’ was removed.

"--nohome"

   Do not create a /home partition.

   New in version Fedora26.

"--noboot"

   Do not create a /boot partition.

   New in version Fedora26.

"--noswap"

   Do not create a swap partition.

   New in version Fedora26.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.


autostep
--------

   autostep [--autoscreenshot]

New in version Fedora3.

Kickstart installs normally skip unnecessary screens. This makes the
installer step through every screen, displaying each briefly.

This is mostly used for debugging.

optional arguments:

"--autoscreenshot"

   Take a screenshot at every step during installation and copy the
   images over to "/root/anaconda-screenshots" after installation is
   complete. This is most useful for documentation.

   New in version Fedora3.


bootloader
----------

   bootloader [--append APPENDLINE] [--location {mbr,partition,none,boot}]
          [--password PASSWORD] [--driveorder DRIVEORDER] [--timeout TIMEOUT]
          [--default DEFAULT] [--iscrypted] [--md5pass _MD5PASS]
          [--boot-drive BOOTDRIVE] [--leavebootorder] [--extlinux]
          [--disabled] [--nombr] [--upgrade]

New in version Fedora3.

This required command specifies how the boot loader should be
installed.

There must be a biosboot partition for the bootloader to be installed
successfully onto a disk that contains a GPT/GUID partition table,
which includes disks initialized by anaconda. This partition may be
created with the kickstart command "part biosboot --fstype=biosboot
--size=1". However, in the case that a disk has an existing biosboot
partition, adding a "part biosboot" option is unnecessary.

optional arguments:

"--append APPENDLINE"

   Specifies additional kernel parameters. For example:

   "bootloader --location=mbr --append="hdd=ide-scsi ide=nodma""

   **Note** The installer will add the bootloader arguments "rhgb
   quiet" if plymouth is installed on the target system. You can
   disable these options with "-plymouth" in the "%packages" section.

   New in version Fedora3.

"--linear"

   use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

   Removed in version Fedora4.

"--nolinear"

   do not use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

   Removed in version Fedora4.

"--location {mbr,partition,none,boot}"

   Specifies where the boot record is written. Valid values are the
   following: mbr (the default), partition (installs the boot loader
   on the first sector of the partition containing the kernel), or
   none (do not install the boot loader).

   **Note** *bootloader –location=none* is different from *bootloader
   –location=none –disabled*. *–location=none* prevents extra
   installation steps that makes the target machine bootable, e.g.
   write to MBR on x86 BIOS systems. However, the corresponding RPM
   packages are still installed, and *–disabled* can be appended to
   prevent it. *bootloader –disabled* only does not prevent the
   installation of the bootloader and Anaconda will complain if no
   other options are provided.

   New in version Fedora3.

"--password PASSWORD"

   If using GRUB, sets the GRUB boot loader password. This should be
   used to restrict access to the GRUB shell, where arbitrary kernel
   options can be passed.

   New in version Fedora3.

"--useLilo"

   force the use of LILO

   New in version Fedora3.

   Removed in version Fedora4.

"--driveorder DRIVEORDER"

   define the explicit hard disk order the boot loader should use

   New in version Fedora3.

"--timeout TIMEOUT"

   Specify the number of seconds before the bootloader times out and
   boots the default option.

   New in version Fedora8.

"--default DEFAULT"

   Sets the default boot image in the bootloader configuration.

   New in version Fedora8.

"--lba32"

   force the use of LBA32 mode for hard disk access (LILO only)

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.

"--iscrypted"

   If given, the password specified by "--password=" is already
   encrypted and should be passed to the bootloader configuration
   without additional modification.

   New in version Fedora15.

"--md5pass _MD5PASS"

   If using GRUB, similar to "--password=" except the password should
   already be encrypted.

   New in version Fedora3.

   Changed in version Fedora15.

   If using GRUB, similar to "--password=" except the password should
   already be encrypted.

"--boot-drive BOOTDRIVE"

   Specifies which drive the bootloader should be written to and thus,
   which drive the computer will boot from.

   New in version Fedora17.

"--leavebootorder"

   On EFI or ISeries/PSeries machines, this option prevents the
   installer from making changes to the existing list of bootable
   images.

   New in version Fedora18.

"--extlinux"

   Use the extlinux bootloader instead of GRUB. This option only works
   on machines that are supported by extlinux.

   New in version Fedora19.

"--disabled"

   Do not install the boot loader.

   **Note** *bootloader –location=none* is different from *bootloader
   –location=none –disabled*. *–location=none* prevents extra
   installation steps that makes the target machine bootable, e.g.
   write to MBR on x86 BIOS systems. However, the corresponding RPM
   packages are still installed, and *–disabled* can be appended to
   prevent it. *bootloader –disabled* only does not prevent the
   installation of the bootloader and Anaconda will complain if no
   other options are provided.

   New in version Fedora21.

"--nombr"

   do not install the boot loader to the MBR

   New in version Fedora21.

"--upgrade"

   upgrade the boot loader installed on disk

   New in version Fedora3.

   Deprecated since version Fedora29.


btrfs
-----

   btrfs [--noformat] [--useexisting] [--label LABEL] [--data DATALEVEL]
     [--metadata METADATALEVEL] [--subvol] [--parent PARENT] [--name NAME]
     [--mkfsoptions MKFSOPTS]

New in version Fedora17.

Defines a BTRFS volume or subvolume. This command is of the form:

"btrfs <mntpoint> --data=<level> --metadata=<level> --label=<label>
<partitions*>"

for volumes and of the form:

"btrfs <mntpoint> --subvol --name=<path> <parent>"

for subvolumes.

The "<partitions*>" (which denotes that multiple partitions can be
listed) lists the BTRFS identifiers to add to the BTRFS volume. For
subvolumes, should be the identifier of the subvolume’s parent volume.

"<mntpoint>"

Location where the file system is mounted.

Deprecated since version RedHatEnterpriseLinux8.

optional arguments:

"--noformat"

   Use an existing BTRFS volume (or subvolume) and do not reformat the
   filesystem.

   New in version Fedora17.

"--useexisting"

   Same as "--noformat".

   New in version Fedora17.

"--label LABEL"

   Specify the label to give to the filesystem to be made. If the
   given label is already in use by another filesystem, a new label
   will be created. This option has no meaning for subvolumes.

   New in version Fedora17.

"--data DATALEVEL"

   RAID level to use (0, 1, 10) for filesystem data. Optional. This
   option has no meaning for subvolumes.

   New in version Fedora17.

"--metadata METADATALEVEL"

   RAID level to use (0, 1, 10) for filesystem/volume metadata.
   Optional. This option has no meaning for subvolumes.

   New in version Fedora17.

"--subvol"

   Create BTRFS subvolume.

   New in version Fedora17.

"--parent PARENT"

   BTRFS parent device

   New in version Fedora17.

"--name NAME"

   Subvolume name.

   New in version Fedora17.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program. This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora23.

The following example shows how to create a BTRFS volume from member
partitions on three disks with subvolumes for root and home. The main
volume is not mounted or used directly in this example – only the root
and home subvolumes:

   part btrfs.01 --size=6000 --ondisk=sda
   part btrfs.02 --size=6000 --ondisk=sdb
   part btrfs.03 --size=6000 --ondisk=sdc

   btrfs none --data=0 --metadata=1 --label=f17 btrfs.01 btrfs.02 btrfs.03
   btrfs / --subvol --name=root LABEL=f17
   btrfs /home --subvol --name=home f17


cdrom
-----

   cdrom

New in version Fedora3.

Install from the first CD-ROM/DVD drive on the system.


clearpart
---------

   clearpart [--all] [--drives DRIVES] [--initlabel] [--linux] [--none]
         [--list DEVICES] [--disklabel DISKLABEL] [--cdl]

New in version Fedora3.

Removes partitions from the system, prior to creation of new
partitions. By default, no partitions are removed.

If the clearpart command is used, then the "--onpart" command cannot
be used on a logical partition.

optional arguments:

"--all"

   Erases all partitions from the system.

   New in version Fedora3.

"--drives DRIVES"

   Specifies which drives to clear partitions from. For example, the
   following clears the partitions on the first two drives on the
   primary IDE controller:

      ``clearpart --all --drives=sda,sdb``

   New in version Fedora3.

"--initlabel"

   Initializes the disk label to the default for your architecture
   (for example msdos for x86 and gpt for Itanium). This is only
   meaningful in combination with the ‘–all’ option.

   New in version Fedora3.

"--linux"

   Erases all Linux partitions.

   New in version Fedora3.

"--none"

   Do not remove any partitions. This is the default

   New in version Fedora3.

"--list DEVICES"

   Specifies which partitions to clear. If given, this supersedes any
   of the "--all" and "--linux" options. This can be across different
   drives:

      ``clearpart --list=sda2,sda3,sdb1``

   New in version Fedora17.

"--disklabel DISKLABEL"

   Set the default disklabel to use. Only disklabels supported for the
   platform will be accepted. eg. msdos and gpt for x86_64 but not
   dasd.

   New in version Fedora21.

"--cdl"

   Reformat any LDL DASDs to CDL format.

   New in version Fedora28.


graphical or text or cmdline
----------------------------

   graphical|text|cmdline [--non-interactive]

New in version Fedora3.

Controls which display mode will be used during installation. If
"cmdline" is chosen all required installation options must be
configured via kickstart otherwise the installation will fail.

optional arguments:

"--non-interactive"

   Perform the installation in a completely non-interactive mode. This
   mode will kill the installation when user interaction will be
   required. Can’t be used with "cmdline" mode. This option is
   especially useful for automated testing purpose.

   New in version Fedora26.


device
------

   device [--opts MODULEOPTS]

New in version Fedora3.

On most PCI systems, the installation program will autoprobe for
Ethernet and SCSI cards properly. On older systems and some PCI
systems, however, kickstart needs a hint to find the proper devices.
The device command, which tells the installation program to install
extra modules, is in this format:

"device <moduleName> --opts=<options>"

"<moduleName>"

Replace with the name of the kernel module which should be installed.

Deprecated since version Fedora24.

optional arguments:

"--opts MODULEOPTS"

   Options to pass to the kernel module. For example:

   "--opts="aic152x=0x340 io=11""

   New in version Fedora3.


deviceprobe
-----------

   deviceprobe

New in version Fedora3.

probe for devices


dmraid
------

   dmraid --name NAME --dev DEVICES

New in version Fedora6.

define a software RAID device

Deprecated since version Fedora24.

optional arguments:

"--name NAME"

   Name of dmraid

   New in version Fedora6.

"--dev DEVICES"

   device to add to the dmraid

   New in version Fedora6.


driverdisk
----------

   driverdisk [--source SOURCE] [--biospart BIOSPART] [partition [partition ...]]

New in version Fedora3.

Driver diskettes can be used during kickstart installations. You need
to copy the driver disk’s contents to the root directory of a
partition on the system’s hard drive. Then you need to use the
driverdisk command to tell the installation program where to look for
the driver disk.

positional arguments:

"partition"

   Partition containing the driver disk. This can be specified by
   device name, UUID=, or LABEL= just like the harddrive command may
   be.

   New in version Fedora3.

optional arguments:

"--source SOURCE"

   Specify a URL for the driver disk. NFS locations can be given with
   "nfs:host:/path/to/img".

   New in version Fedora3.

"--biospart BIOSPART"

   BIOS partition containing the driver disk (such as 82p2).

   New in version Fedora4.

"--type TYPE"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.


eula
----

   eula [--agreed]

New in version Fedora20.

Automatically accept Red Hat’s EULA

optional arguments:

"--agreed, --agree, --accepted, --accept"

   Accept the EULA. This is mandatory option!

   New in version Fedora20.


fcoe
----

   fcoe --nic NIC [--dcb] [--autovlan]

New in version Fedora12.

Discover and attach FCoE storage devices accessible via specified
network interface

optional arguments:

"--nic NIC"

   Name of the network device connected to the FCoE switch

   New in version Fedora12.

"--dcb"

   Enable Data Center Bridging awareness in installer. This option
   should only be enabled for network interfaces that require a host-
   based DCBX client. Configurations on interfaces that implement a
   hardware DCBX client should not use it.

   New in version Fedora13.

"--autovlan"

   Perform automatic VLAN discovery and setup. This option is enabled
   by default.

   New in version Fedora28.


firewall
--------

   firewall [--disable] [--enable] [--port PORTS] [--trust TRUSTS]
        [--service SERVICES] [--ftp] [--http] [--smtp] [--ssh]
        [--remove-service REMOVE_SERVICES] [--use-system-defaults]

New in version Fedora3.

This option corresponds to the Firewall Configuration screen in the
installation program

optional arguments:

"--disable, --disabled"

   Do not configure any iptables rules.

   New in version Fedora3.

"--enable, --enabled"

   Reject incoming connections that are not in response to outbound
   requests, such as DNS replies or DHCP requests. If access to
   services running on this machine is needed, you can choose to allow
   specific services through the firewall.

   New in version Fedora3.

"--high HIGH"

   New in version Fedora3.

   Deprecated since version Fedora3.

   Removed in version Fedora9.

"--medium MEDIUM"

   New in version Fedora3.

   Deprecated since version Fedora3.

   Removed in version Fedora9.

"--port PORTS"

   You can specify that ports be allowed through the firewall using
   the port:protocol format. You can also specify ports numerically.
   Multiple ports can be combined into one option as long as they are
   separated by commas. For example:

      ``firewall --port=imap:tcp,1234:ucp,47``

   New in version Fedora3.

"--trust TRUSTS"

   Listing a device here, such as eth0, allows all traffic coming from
   that device to go through the firewall. To list more than one
   device, use –trust eth0 –trust eth1. Do NOT use a comma-separated
   format such as –trust eth0, eth1.

   New in version Fedora3.

"--service SERVICES"

   This option provides a higher-level way to allow services through
   the firewall. Some services (like cups, avahi, etc.) require
   multiple ports to be open or other special configuration in order
   for the service to work. You could specify each individual service
   with the "--port" option, or specify "--service=" and open them all
   at once.

   Valid options are anything recognized by the firewall-cmd program
   in the firewalld package. If firewalld is running:

      ``firewall-cmd --get-services``

   will provide a list of known service names.

   New in version Fedora10.

"--ftp"

   Open port 21:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the ftp service port

"--http"

   Open ports 80:tcp and 443:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the http service port

"--smtp"

   Open port 25:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the smtp service port

"--ssh"

   Open port 22:tcp

   New in version Fedora3.

   Changed in version Fedora10.

   Open the ssh service port

"--telnet TELNET"

   Open port 23:tcp

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--remove-service REMOVE_SERVICES"

   Close ports for the comma-separated list of services

   New in version Fedora20.

"--use-system-defaults"

   Don’t configure the firewall at all. This instructs anaconda to do
   nothing and allows the system to rely on the defaults that were
   provided with the package or ostree.  If this option is used with
   other options then all other options will be ignored.

   New in version Fedora28.


firstboot
---------

   firstboot [--disable] [--enable] [--reconfig]

New in version Fedora3.

Determine whether the Setup Agent starts the first time the system is
booted. If enabled, the "initial-setup" package must be installed. If
not specified, the setup agent (initial-setup) is disabled by default.

optional arguments:

"--disable, --disabled"

   The Setup Agent is not started the first time the system boots.

   New in version Fedora3.

"--enable, --enabled"

   The Setup Agent is started the first time the system boots.

   New in version Fedora3.

"--reconfig"

   Enable the Setup Agent to start at boot time in reconfiguration
   mode. This mode enables the language, mouse, keyboard, root
   password, security level, time zone, and networking configuration
   options in addition to the default ones.

   New in version Fedora3.


group
-----

   group --name NAME [--gid GID]

New in version Fedora12.

Creates a new user group on the system. If a group with the given name
or GID already exists, this command will fail. In addition, the "user"
command can be used to create a new group for the newly created user.

optional arguments:

"--name NAME"

   Provides the name of the new group.

   New in version Fedora12.

"--gid GID"

   The group’s GID. If not provided, this defaults to the next
   available non-system GID.

   New in version Fedora12.


reboot or poweroff or shutdown or halt
--------------------------------------

   reboot|poweroff|shutdown|halt [--eject] [--kexec]

New in version Fedora3.

"reboot"

Reboot after the installation is complete. Normally, kickstart
displays a message and waits for the user to press a key before
rebooting.

"poweroff"

Turn off the machine after the installation is complete. Normally,
kickstart displays a message and waits for the user to press a key
before rebooting.

"shutdown"

At the end of installation, shut down the machine. This is the same as
the poweroff command. Normally, kickstart displays a message and waits
for the user to press a key before rebooting.

"halt"

At the end of installation, display a message and wait for the user to
press a key before rebooting. This is the default action.

Changed in version Fedora18.

The ‘halt’ command was added!

optional arguments:

"--eject"

   Attempt to eject CD or DVD media before rebooting.

   New in version Fedora6.

"--kexec"

   Use kexec to reboot into the new system, bypassing BIOS/Firmware
   and bootloader.

   New in version Fedora23.


harddrive
---------

   harddrive [--biospart BIOSPART] [--partition PARTITION] --dir DIR

New in version Fedora3.

Install from a directory of ISO images on a local drive, which must be
either vfat or ext2. In addition to this directory, you must also
provide the install.img in some way. You can either do this by booting
off the boot.iso or by creating an images/ directory in the same
directory as the ISO images and placing install.img in there.

optional arguments:

"--biospart BIOSPART"

   BIOS partition to install from (such as 82p2).

   New in version Fedora3.

"--partition PARTITION"

   Partition to install from (such as, sdb2).

   New in version Fedora3.

"--dir DIR"

   Directory containing both the ISO images and the
   images/install.img. For example:

      ``harddrive --partition=hdb2 --dir=/tmp/install-tree``

   New in version Fedora3.


hmc
---

   hmc

New in version RedHatEnterpriseLinux7.

Install from an installation medium via SE/HMC on z Systems.


ignoredisk
----------

   ignoredisk [--drives IGNOREDISK] [--only-use ONLYUSE] [--interactive]

New in version Fedora3.

Controls anaconda’s access to disks attached to the system. By
default, all disks will be available for partitioning. Only one of the
following three options may be used.

optional arguments:

"--drives IGNOREDISK"

   Specifies those disks that anaconda should not touch when
   partitioning, formatting, and clearing.

   New in version Fedora3.

   Changed in version Fedora8.

   This argument is no longer required!

"--only-use ONLYUSE"

   Specifies the opposite - only disks listed here will be used during
   installation.

   New in version Fedora8.

"--interactive"

   Allow the user manually navigate the advanced storage screen.

   New in version RedHatEnterpriseLinux6.


install
-------

   install [--root-device ROOT_DEVICE]

           Install a fresh system. You must specify the type of
           installation from one of cdrom, harddrive, nfs, or url
           (for ftp or http installations).
           The install command and the installation method command
           must be on separate lines.

           Important: before Fedora 20 this command was known as
           install or upgrade but the upgrade part was deprecated!

optional arguments:

"--root-device ROOT_DEVICE"

   On a system with multiple installs, this option specifies which
   filesystem holds the installation to be upgraded. This can be
   specified by device name, UUID=, or LABEL= just like the harddrive
   command may be.

   New in version Fedora11.


interactive
-----------

   interactive

New in version Fedora3.

Use interactive kickstart installation method.

Deprecated since version Fedora14.

Removed in version Fedora15.


iscsi
-----

   iscsi [--target TARGET] --ipaddr IPADDR [--port PORT] [--user USER]
     [--password PASSWORD] [--reverse-user USER_IN]
     [--reverse-password PASSWORD_IN] [--iface IFACE]

New in version Fedora6.

Specifies additional iSCSI storage to be attached during installation.
If you use the iscsi parameter, you must also assign a name to the
iSCSI node, using the iscsiname parameter. The iscsiname parameter
must appear before the iscsi parameter in the kickstart file.

We recommend that wherever possible you configure iSCSI storage in the
system BIOS or firmware (iBFT for Intel systems) rather than use the
iscsi parameter. Anaconda automatically detects and uses disks
configured in BIOS or firmware and no special configuration is
necessary in the kickstart file.

If you must use the iscsi parameter, ensure that networking is
activated at the beginning of the installation, and that the iscsi
parameter appears in the kickstart file before you refer to iSCSI
disks with parameters such as clearpart or ignoredisk.

optional arguments:

"--target TARGET"

   The target iqn.

   New in version Fedora6.

"--ipaddr IPADDR"

   The IP address of the target to connect to.

   New in version Fedora6.

"--port PORT"

   The port number to connect to (default, –port=3260).

   New in version Fedora6.

"--user USER"

   The username required to authenticate with the target.

   New in version Fedora6.

"--password PASSWORD"

   The password that corresponds with the username specified for the
   target.

   New in version Fedora6.

"--reverse-user USER_IN"

   The username required to authenticate with the initiator from a
   target that uses reverse CHAP authentication.

   New in version Fedora10.

"--reverse-password PASSWORD_IN"

   The password that corresponds with the username specified for the
   initiator.

   New in version Fedora10.

"--iface IFACE"

   Bind connection to specific network interface instead of using the
   default one determined by network layer. Once used, it must be
   specified for all iscsi commands.

   New in version Fedora17.


iscsiname
---------

   iscsiname <iqn>

New in version Fedora6.

Assigns an initiator name to the computer. If you use the iscsi
parameter in your kickstart file, this parameter is mandatory, and you
must specify iscsiname in the kickstart file before you specify iscsi.

positional arguments:

"<iqn>"

   IQN name

   New in version Fedora6.


key
---

   key [--skip]

New in version RedHatEnterpriseLinux5.

set or skip the software installation key

optional arguments:

"--skip"

   Skip the software installation key

   New in version RedHatEnterpriseLinux5.


keyboard
--------

   keyboard [--vckeymap VC_KEYMAP] [--xlayouts X_LAYOUTS]
        [--switch SWITCH_OPTIONS]
        [kbd [kbd ...]]

New in version Fedora3.

This required command sets system keyboard type.

Changed in version Fedora18.

See the documentation of "--vckeymap" option and the tip at the end of
this section for a guide how to get values accepted by this command.

Either "--vckeymap" or "--xlayouts" must be used.

Alternatively, use the older format, "arg", which is still supported.
"arg" can be an X layout or VConsole keymap name.

Missing values will be automatically converted from the given one(s).

positional arguments:

"kbd"

   Keyboard type

   New in version Fedora3.

optional arguments:

"--vckeymap VC_KEYMAP"

   Specify VConsole keymap that should be used. is a keymap name which
   is the same as the filename under "/usr/lib/kbd/keymaps/" without
   the ".map.gz" extension.

   New in version Fedora18.

"--xlayouts X_LAYOUTS"

   Specify a list of X layouts that should be used (comma-separated
   list without spaces). Accepts the same values as "setxkbmap(1)",
   but uses either the layout format (such as cz) or the ‘layout
   (variant)’ format (such as ‘cz (qwerty)’). For example:

      ``keyboard --xlayouts=cz,'cz (qwerty)'`

   New in version Fedora18.

"--switch SWITCH_OPTIONS"

   Specify a list of layout switching options that should be used
   (comma-separated list without spaces). Accepts the same values as
   "setxkbmap(1)" for layout switching. For example:

      ``keyboard --xlayouts=cz,'cz (qwerty)' --switch=grp:alt_shift_toggle``

   New in version Fedora18.

*If you know only the description of the layout (e.g. Czech (qwerty)),
you can use http://vpodzime.fedorapeople.org/layouts_list.py to list
all available layouts and find the one you want to use. The string in
square brackets is the valid layout specification as Anaconda accepts
it. The same goes for switching options and
http://vpodzime.fedorapeople.org/switching_list.py*


lang
----

   lang [--addsupport LOCALE] <lang>

New in version Fedora3.

This required command sets the language to use during installation and
the default language to use on the installed system to "<id>". This
can be the same as any recognized setting for the "$LANG" environment
variable, though not all languages are supported during installation.

Certain languages (mainly Chinese, Japanese, Korean, and Indic
languages) are not supported during text mode installation. If one of
these languages is specified using the lang command, installation will
continue in English though the running system will have the specified
langauge by default.

The file "/usr/share/system-config-language/locale-list" provides a
list the valid language codes in the first column of each line and is
part of the system-config-languages package.

positional arguments:

"<lang>"

   Language ID.

   New in version Fedora3.

optional arguments:

"--addsupport LOCALE"

   Install the support packages for the given locales, specified as a
   comma-separated list. Each locale may be specified in the same ways
   as the primary language may be, as described above.

   New in version Fedora19.


langsupport
-----------

   langsupport [--default DEFLANG]

New in version Fedora3.

Install the support packages for the given locales.

Deprecated since version Fedora5.

Removed in version Fedora7.

optional arguments:

"--default DEFLANG"

   Default locale

   New in version Fedora3.


lilo
----

   lilo [--append APPENDLINE] [--linear] [--nolinear]
    [--location {mbr,partition,none,boot}] [--lba32] [--password PASSWORD]
    [--md5pass MD5PASS] [--upgrade] [--useLilo] [--driveorder DRIVEORDER]

New in version Fedora3.

This required command specifies how the boot loader should be
installed.

There must be a biosboot partition for the bootloader to be installed
successfully onto a disk that contains a GPT/GUID partition table,
which includes disks initialized by anaconda. This partition may be
created with the kickstart command "part biosboot --fstype=biosboot
--size=1". However, in the case that a disk has an existing biosboot
partition, adding a "part biosboot" option is unnecessary.

Removed in version Fedora4.

optional arguments:

"--append APPENDLINE"

   Specifies additional kernel parameters. For example:

   "bootloader --location=mbr --append="hdd=ide-scsi ide=nodma""

   **Note** The installer will add the bootloader arguments "rhgb
   quiet" if plymouth is installed on the target system. You can
   disable these options with "-plymouth" in the "%packages" section.

   New in version Fedora3.

"--linear"

   use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

"--nolinear"

   do not use linear mode to access hard disks (for LILO only)

   New in version Fedora3.

"--location {mbr,partition,none,boot}"

   Specifies where the boot record is written. Valid values are the
   following: mbr (the default), partition (installs the boot loader
   on the first sector of the partition containing the kernel), or
   none (do not install the boot loader).

   **Note** *bootloader –location=none* is different from *bootloader
   –location=none –disabled*. *–location=none* prevents extra
   installation steps that makes the target machine bootable, e.g.
   write to MBR on x86 BIOS systems. However, the corresponding RPM
   packages are still installed, and *–disabled* can be appended to
   prevent it. *bootloader –disabled* only does not prevent the
   installation of the bootloader and Anaconda will complain if no
   other options are provided.

   New in version Fedora3.

"--lba32"

   force the use of LBA32 mode for hard disk access (LILO only)

   New in version Fedora3.

"--password PASSWORD"

   If using GRUB, sets the GRUB boot loader password. This should be
   used to restrict access to the GRUB shell, where arbitrary kernel
   options can be passed.

   New in version Fedora3.

"--md5pass MD5PASS"

   If using GRUB, similar to "--password=" except the password should
   already be encrypted.

   New in version Fedora3.

"--upgrade"

   upgrade the boot loader installed on disk

   New in version Fedora3.

"--useLilo"

   force the use of LILO

   New in version Fedora3.

"--driveorder DRIVEORDER"

   define the explicit hard disk order the boot loader should use

   New in version Fedora3.


lilocheck
---------

   lilocheck

New in version Fedora3.

check LILO boot loader

Removed in version Fedora4.


liveimg
-------

   liveimg --url <url> [--proxy <proxyurl>] [--noverifyssl] [--checksum <sha256>]

New in version Fedora19.

Install a disk image instead of packages. The image can be the
squashfs.img from a Live iso, or any filesystem mountable by the
install media (eg. ext4). Anaconda expects the image to contain
utilities it needs to complete the system install so the best way to
create one is to use livemedia-creator to make the disk image. If the
image contains /LiveOS/*.img (this is how squashfs.img is structured)
the first *.img file inside LiveOS will be mounted and used to install
the target system. The URL may also point to a tarfile of the root
filesystem. The file must end in .tar, .tbz, .tgz, .txz, .tar.bz2,
tar.gz, tar.xz

optional arguments:

"--url <url>"

   The URL to install from. http, https, ftp and file are supported.

   New in version Fedora19.

"--proxy <proxyurl>"

   Specify an HTTP/HTTPS/FTP proxy to use while performing the
   install. The various parts of the argument act like you would
   expect. Syntax is:

      ``--proxy=[protocol://][username[:password]@]host[:port]``

   New in version Fedora19.

"--noverifyssl"

   For a tree on a HTTPS server do not check the server’s certificate
   with what well-known CA validate and do not check the server’s
   hostname matches the certificate’s domain name.

   New in version Fedora19.

"--checksum <sha256>"

   Optional sha256 checksum of the image file

   New in version Fedora19.


logging
-------

   logging [--host HOST] [--port PORT]
       [--level {debug,info,warning,error,critical}]

New in version Fedora6.

This command controls the error logging of anaconda during
installation. It has no effect on the installed system.

optional arguments:

"--host HOST"

   Send logging information to the given remote host, which must be
   running a syslogd process configured to accept remote logging.

   New in version Fedora6.

"--port PORT"

   If the remote syslogd process uses a port other than the default,
   it may be specified with this option.

   New in version Fedora6.

"--level {debug,info,warning,error,critical}"

   Specify the minimum level of messages that appear on tty3. All
   messages will still be sent to the log file regardless of this
   level, however.

   New in version Fedora6.


logvol
------

   logvol [--fstype FSTYPE] [--grow] [--maxsize MAXSIZEMB] --name NAME
      [--noformat] [--percent PERCENT] [--recommended] [--size SIZE]
      [--useexisting] --vgname VGNAME [--fsoptions FSOPTS]
      [--fsprofile FSPROFILE] [--encrypted] [--passphrase PASSPHRASE]
      [--escrowcert <url>] [--backuppassphrase] [--label LABEL] [--resize]
      [--hibernation] [--cipher CIPHER] [--thinpool] [--thin]
      [--poolname POOL_NAME] [--chunksize CHUNK_SIZE]
      [--metadatasize METADATA_SIZE] [--profile PROFILE]
      [--cachesize CACHE_SIZE] [--cachemode CACHE_MODE]
      [--cachepvs CACHE_PVS] [--mkfsoptions MKFSOPTS]
      [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
      [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
      [--pbkdf-iterations PBKDF_ITERATIONS]
      <mntpoint>

New in version Fedora3.

Create a logical volume for Logical Volume Management (LVM).

Note:

  "logvol" cannot be used with the following commands: autopart, mount

positional arguments:

"<mntpoint>"

   Mountpoint for this logical volume or ‘none’.

   New in version Fedora3.

optional arguments:

"--fstype FSTYPE"

   Sets the file system type for the logical volume. Valid values
   include ext4, ext3, ext2, btrfs, swap, and vfat. Other filesystems
   may be valid depending on command line arguments passed to Anaconda
   to enable other filesystems.

   New in version Fedora3.

   Changed in version RedHatEnterpriseLinux8.

   Btrfs support was removed.

"--grow"

   Tells the logical volume to grow to fill available space (if any),
   or up to the maximum size setting. Note that "--grow" is not
   supported for logical volumes containing a RAID volume on top of
   them.

   New in version Fedora3.

"--maxsize MAXSIZEMB"

   The maximum size in MiB the logical volume may grow to. Specify an
   integer value here, and do not append any units.  This option is
   only relevant if "--grow" is specified as well.

   New in version Fedora3.

"--name NAME"

   The name of this logical volume.

   New in version Fedora3.

"--noformat"

   Use an existing logical volume and do not format it.

   New in version Fedora3.

"--percent PERCENT"

   Specify the size of the logical volume as a percentage of available
   space in the volume group. Without the above "--grow" option, this
   may not work.

   New in version Fedora3.

"--recommended"

   Determine the size of the logical volume automatically.

   New in version Fedora3.

"--size SIZE"

   Size of this logical volume.

   New in version Fedora3.

"--useexisting"

   Use an existing logical volume and reformat it.

   New in version Fedora3.

"--vgname VGNAME"

   Name of the Volume Group this logical volume belongs to.

   New in version Fedora3.

"--fsoptions FSOPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the "/etc/fstab"
   file of the installed system and should be enclosed in quotes.

   New in version Fedora4.

"--bytes-per-inode BYTES_PER_INODE"

   Specify the bytes/inode ratio.

   New in version Fedora4.

   Deprecated since version Fedora9.

   Removed in version Fedora14.

"--fsprofile FSPROFILE"

   Specifies a usage type to be passed to the program that makes a
   filesystem on this partition. A usage type defines a variety of
   tuning parameters to be used when making a filesystem. For this
   option to work, the filesystem must support the concept of usage
   types and there must be a configuration file that lists valid
   types. For ext2/3/4, this configuration file is "/etc/mke2fs.conf".

   New in version Fedora9.

"--encrypted"

   Specify that this logical volume should be encrypted.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Specify the passphrase to use when encrypting this logical volume.
   Without the above "--encrypted" option, this option does nothing.
   If no passphrase is specified, the default system-wide one is used,
   or the installer will stop and prompt if there is no default.

   New in version Fedora9.

"--escrowcert <url>"

   Load an X.509 certificate from "<url>". Store the data encryption
   key of this logical volume, encrypted using the certificate, as a
   file in "/root". Only relevant if "--encrypted" is specified as
   well.

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified as well. In addition
   to storing the data encryption key, generate a random passphrase
   and add it to this logical volume. Then store the passphrase,
   encrypted using the certificate specified by "--escrowcert", as a
   file in "/root". If more than one LUKS volume uses "--
   backuppassphrase", the same passphrase will be used for all such
   volumes.

   New in version Fedora12.

"--label LABEL"

   Specify the label to give to the filesystem to be made. If the
   given label is already in use by another filesystem, a new label
   will be created.

   New in version Fedora15.

"--resize"

   Attempt to resize this logical volume to the size given by "--
   size=". This option must be used with "--useexisting --size=", or
   an error will be raised.

   New in version Fedora17.

"--hibernation"

   This option can be used to automatically determine the size of the
   swap partition big enough for hibernation.

   New in version Fedora18.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--thinpool"

   Create a thin pool logical volume. Use a mountpoint of ‘none’.

   New in version Fedora20.

"--thin"

   Create a thin logical volume. Requires "--poolname".

   New in version Fedora20.

"--poolname POOL_NAME"

   Specify the name of the thin pool in which to create a thin logical
   volume. Requires "--thin".

   New in version Fedora20.

"--chunksize CHUNK_SIZE"

   Specify the chunk size (in KiB) for a new thin pool device.

   New in version Fedora20.

"--metadatasize METADATA_SIZE"

   Specify the metadata area size (in MiB) for a new thin pool device.

   New in version Fedora20.

"--profile PROFILE"

   Specify an LVM profile for the thin pool (see "lvm(8)", standard
   profiles are "default" and "thin-performance" defined in the
   "/etc/lvm/profile/" directory).

   New in version Fedora21.

"--cachesize CACHE_SIZE"

   Requested size (in MiB) of cache attached to the logical volume.
   Requires "--cachepvs".

   New in version Fedora23.

"--cachemode CACHE_MODE"

   Mode that should be used for the cache. Either "writeback" or
   "writethrough".

   New in version Fedora23.

"--cachepvs CACHE_PVS"

   Comma-separated list of (fast) physical volumes that should be used
   for the cache.

   New in version Fedora23.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program.  This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora23.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

Create the partition first, create the logical volume group, and then
create the logical volume. For example:

   part pv.01 --size 3000
   volgroup myvg pv.01
   logvol / --vgname=myvg --size=2000 --name=rootvol


mediacheck
----------

   mediacheck

New in version Fedora4.

If given, this will force anaconda to run mediacheck on the
installation media. This command requires that installs be attended,
so it is disabled by default.


method
------

   method

New in version Fedora3.

Proxy to the actual installation method. Valid installation methods
are:

* "cdrom"

* "harddrive"

* "nfs"

* "url"

* "liveimg"

* "hmc"


module
------

   module --name <module_name> [--stream <module_stream_name>] [--disable]

New in version Fedora29.

The module command makes it possible to manipulate modules.

(In this case we mean modules as introduced by the Fedora modularity
initiative.)

A module is defined by a unique name and a stream id, where single
module can (and usually has) multiple available streams.

Streams will in most cases corresponds to stable releases of the given
software components (such as Node.js, Django, etc.) but there could be
also other use cases, such as a raw upstream master branch stream or
streams corresponding to an upcoming stable release.

For more information see the Fedora modularity initiative
documentation: https://docs.pagure.org/modularity/

optional arguments:

"--name <module_name>"

   Name of the module to enable.

   New in version Fedora29.

"--stream <module_stream_name>"

   Name of the module stream to enable.

   New in version Fedora29.

"--disable"

   Disable module.

   New in version RedHatEnterpriseLinux8.


monitor
-------

   monitor [--hsync HSYNC] [--monitor MONITOR] [--vsync VSYNC] [--noprobe]

New in version Fedora3.

If the monitor command is not given, anaconda will use X to
automatically detect your monitor settings. Please try this before
manually configuring your monitor.

Deprecated since version Fedora10.

Removed in version Fedora18.

optional arguments:

"--hsync HSYNC"

   Specifies the horizontal sync frequency of the monitor.

   New in version Fedora3.

"--monitor MONITOR"

   Use specified monitor; monitor name should be from the list of
   monitors in "/usr/share/hwdata/MonitorsDB" from the hwdata package.
   The list of monitors can also be found on the X Configuration
   screen of the Kickstart Configurator. This is ignored if "--hsync"
   or "--vsync" is provided. If no monitor information is provided,
   the installation program tries to probe for it automatically.

   New in version Fedora3.

"--vsync VSYNC"

   Specifies the vertical sync frequency of the monitor.

   New in version Fedora3.

"--noprobe"

   Do not probe the monitor.

   New in version Fedora6.


mount
-----

   mount [--reformat [REFORMAT]] [--mkfsoptions MKFS_OPTS]
     [--mountoptions MOUNT_OPTS]
     <device> <mntpoint>

New in version Fedora27.

Assigns a mount point to a block device and optionally reformats it to
a given format. It at least requires a device and a mount point where
the mount point can be "none" in case the format on the device is not
mountable or in case the device should just be reformatted.

The difference between this command and the other commands for storage
configuration ("part", "logvol",…) is that it doesn’t require the
whole storage stack to be described in the kickstart file. The user
just needs to make sure that the specified block device exists in the
system. The installer doesn’t necessarily have to know all the details
about of the given device. If, on the other hand, the installer is
supposed to **create** the storage stack with all the devices mounted
at various places, the "part", "logvol", "raid", etc. commands have to
be used.

Note:

  "mount" cannot be used with the following commands: autopart,
  partition, raid, volgroup, logvol, reqpart

positional arguments:

"<device>"

   The block device to mount

   New in version Fedora27.

"<mntpoint>"

   The "<mntpoint>" is where the <device> will be mounted.  Must be a
   valid mount point, for example "/", "/usr", "/home", or "none" if
   the device cannot (e.g. swap) or should not be mounted.

   New in version Fedora27.

optional arguments:

"--reformat [REFORMAT]"

   Specifies the new format (e.g. a file system) for the device.

   New in version Fedora27.

"--mkfsoptions MKFS_OPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program.  This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora27.

"--mountoptions MOUNT_OPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the /etc/fstab file
   of the installed system and should be enclosed in quotes.

   New in version Fedora27.


mouse
-----

   mouse [--device DEVICE] [--emulthree]

New in version RedHatEnterpriseLinux3.

Configure the system mouse

Deprecated since version Fedora3.

Removed in version Fedora7.

optional arguments:

"--device DEVICE"

   Which device node to use for mouse

   New in version RedHatEnterpriseLinux3.

"--emulthree"

   If set emulate 3 mouse buttons

   New in version RedHatEnterpriseLinux3.


multipath
---------

   multipath --name NAME --device DEVICE --rule RULE

New in version Fedora6.

define a multipath storage device

Deprecated since version Fedora24.

optional arguments:

"--name NAME"

   multipath device name

   New in version Fedora6.

"--device DEVICE"

   multipath device node

   New in version Fedora6.

"--rule RULE"

   multipath device rule

   New in version Fedora6.


network
-------

   network [--bootproto {dhcp,bootp,static,query,ibft}] [--dhcpclass DHCPCLASS]
       [--device DEVICE] [--essid ESSID] [--ethtool ETHTOOL]
       [--gateway GATEWAY] [--hostname HOSTNAME] [--ip IP] [--mtu MTU]
       [--nameserver NAMESERVER] [--netmask NETMASK] [--nodns]
       [--onboot ONBOOT] [--wepkey WEPKEY] [--notksdevice] [--noipv4]
       [--noipv6] [--ipv6 IPV6] [--activate] [--nodefroute] [--wpakey WPAKEY]
       [--bondslaves BONDSLAVES] [--bondopts BONDOPTS] [--vlanid VLANID]
       [--ipv6gateway IPV6GATEWAY] [--teamslaves TEAMSLAVES]
       [--teamconfig TEAMCONFIG] [--interfacename INTERFACENAME]
       [--bridgeslaves BRIDGESLAVES] [--bridgeopts BRIDGEOPTS]
       [--no-activate] [--bindto {mac}]

New in version Fedora3.

Configures network information for target system and activates network
devices in installer environment. The device specified in the first
network command is activated automatically. Activation of the device
can be also explicitly required by "--activate" option

optional arguments:

"--bootproto {dhcp,bootp,static,query,ibft}"

   The method of IPv4 configuration. For IPv6 configuration use "--
   ipv6" option.

   The default setting is "dhcp". To turn IPv4 configuration off use "
   --noipv4" option.

   * The "dhcp" method uses a DHCP server system to obtain its
     networking configuration.

   * The "static" method requires that you specify at least IP address
     and netmask with "--ip" and "--netmask" options.

   For example:

      ``network --device=link --bootproto=static --ip=10.0.2.15 --netmask=255.255.255.0 --gateway=10.0.2.254 --nameserver=10.0.2.1``

   * "ibft" setting is for reading the configuration from iBFT table.

   New in version Fedora3.

   Changed in version Fedora9.

   The ‘query’ value was added.

   Changed in version Fedora16.

   The ‘ibft’ value was added.

"--dhcpclass DHCPCLASS"

   Specifies the DHCP vendor class identifier. The dhcpd service will
   see this value as vendor-class-identifier.

   New in version Fedora3.

"--device DEVICE"

   Specifies the device to be configured (and eventually activated in
   Anaconda) with the network command.

   You can specify a device to be activated in any of the following
   ways:

   * the device name of the interface, for example, "em1"

   * the MAC address of the interface, for example,
     "01:23:45:67:89:ab"

   * the keyword "link", which specifies the first interface with its
     link in the up state

   * the keyword "bootif", which uses the MAC address that pxelinux
     set in the "BOOTIF" variable. Set "IPAPPEND 2" in your
     pxelinux.cfg file to have pxelinux set the "BOOTIF" variable.

   For example:

      ``network --bootproto=dhcp --device=ens3``

   If the "--device=" option is missing on the first use of the
   network command, the value of the "ksdevice=" Anaconda boot option
   is used, if available. If "ksdevice=" is not set, "link" value is
   used. Note that this is considered deprecated behavior; in most
   cases, you should always specify a "--device=" for every network
   command. The behavior of any subsequent network command in the same
   Kickstart file is unspecified if its "--device=" option is missing.
   Make sure you specify this option for any network command beyond
   the first.

   New in version Fedora3.

"--essid ESSID"

   The network ID for wireless networks.

   New in version Fedora3.

"--ethtool ETHTOOL"

   Specifies additional low-level settings for the network device
   which will be passed to the ethtool program.

   New in version Fedora3.

"--gateway GATEWAY"

   Default gateway, as a single IPv4 address.

   New in version Fedora3.

"--hostname HOSTNAME"

   The host name for the installed system.

   The host name can either be a fully-qualified domain name (FQDN) in
   the format hostname.domainname, or a short host name with no
   domain. Many networks have a DHCP service which automatically
   supplies connected systems with a domain name; to allow DHCP to
   assign the domain name, only specify a short host name.

   New in version Fedora3.

"--ip IP"

   IPv4 address for the interface.

   New in version Fedora3.

"--mtu MTU"

   The MTU of the device.

   New in version Fedora3.

"--nameserver NAMESERVER"

   Primary nameserver, as an IP address. Multiple nameservers must be
   comma separated.

   New in version Fedora3.

"--netmask NETMASK"

   IPv4 network mask of the device.

   New in version Fedora3.

"--nodns"

   Do not configure any DNS server.

   New in version Fedora3.

"--onboot ONBOOT"

   Whether or not to enable the device a boot time.

   New in version Fedora3.

"--wepkey WEPKEY"

   The WEP encryption key for wireless networks.

   New in version Fedora3.

"--notksdevice"

   This network device is not used for kickstart.

   New in version Fedora4.

"--noipv4"

   Disable IPv4 configuration of this device.

   New in version Fedora6.

"--noipv6"

   Disable IPv6 configuration of this device.

   New in version Fedora6.

"--ipv6 IPV6"

   IPv6 address for the interface. This can be: - the static address
   in form "<IPv6 address>[/<prefix length>]", e.g.
   "3ffe:ffff:0:1::1/128" (if prefix is omitted 64 is assumed), -
   "auto" for stateless automatic address autoconfiguration, or -
   "dhcp" for DHCPv6-only configuration (no router advertisements).

   New in version Fedora8.

"--activate"

   As noted above, using this option ensures any matching devices
   beyond the first will also be activated.

   New in version Fedora16.

"--nodefroute"

   Prevents grabbing of the default route by the device. It can be
   useful when activating additional devices in installer using "--
   activate" option.

   New in version Fedora16.

"--wpakey WPAKEY"

   The WPA encryption key for wireless networks.

   New in version Fedora16.

"--bondslaves BONDSLAVES"

   Bonded device with name specified by "--device" option will be
   created using slaves specified in this option. Example:

      ``network --device bond0 --bootproto static --ip=10.34.102.222 --netmask=255.255.255.0 --gateway=10.34.102.254 --nameserver=10.34.39.2 --bondslaves=ens7,ens8 --bondopts=mode=active-backup,primary=ens7 --activate``

   New in version Fedora19.

"--bondopts BONDOPTS"

   A comma-separated list of optional parameters for bonded interface
   specified by "--bondslaves" and "--device" options. Example:

      ``--bondopts=mode=active-backup,primary=eth1``

   If an option itself contains comma as separator use semicolon to
   separate the options. Example:

      ``--bondopts=mode=active-backup,balance-rr;primary=eth1``

   New in version Fedora19.

"--vlanid VLANID"

   Id (802.1q tag) of vlan device to be created using parent device
   specified by "--device" option. For example:

      ``network --device=eth0 --vlanid=171``

   will create vlan device "eth0.171".

   New in version Fedora19.

"--ipv6gateway IPV6GATEWAY"

   Default gateway, as a single IPv6 address.

   New in version Fedora19.

"--teamslaves TEAMSLAVES"

   Team device with name specified by "--device" option will be
   created using slaves specified in this option. Slaves are separated
   by comma. A slave can be followed by its configuration which is a
   single-quoted json format string with double qoutes escaped by "''"
   character. Example:

      ``--teamslaves="p3p1'{"prio": -10, "sticky": true}',p3p2'{"prio": 100}'"``.

   See also "--teamconfig" option.

   New in version Fedora20.

"--teamconfig TEAMCONFIG"

   Double-quoted team device configuration which is a json format
   string with double quotes escaped with "''" character. The device
   name is specified by "--device" option and its slaves and their
   configuration by "--teamslaves" option. Example:

      ``network --device team0 --activate --bootproto static --ip=10.34.102.222 --netmask=255.255.255.0 --gateway=10.34.102.254 --nameserver=10.34.39.2 --teamslaves="p3p1'{"prio": -10, "sticky": true}',p3p2'{"prio": 100}'" --teamconfig="{"runner": {"name": "activebackup"}}"``

   New in version Fedora20.

"--interfacename INTERFACENAME"

   Specify a custom interface name for a virtual LAN device. This
   option should be used when the default name generated by the "--
   vlanid=" option is not desirable. This option must be used along
   with "--vlanid=". For example:

      ``network --device=em1 --vlanid=171 --interfacename=vlan171``

   The above command creates a virtual LAN interface named "vlan171"
   on the em1 device with an ID of 171. The interface name can be
   arbitrary (for example, "my-vlan"), but in specific cases, the
   following conventions must be followed:

   If the name contains a dot (.), it must take the form of NAME.ID.
   The NAME is arbitrary, but the ID must be the VLAN ID. For example:
   "em1.171" or "my-vlan.171".  Names starting with vlan must take the
   form of vlanID - for example: "vlan171".

   New in version Fedora21.

"--bridgeslaves BRIDGESLAVES"

   When this option is used, the network bridge with device name
   specified using the "--device=" option will be created and devices
   defined in the "--bridgeslaves=" option will be added to the
   bridge. For example:

      ``network --device=bridge0 --bridgeslaves=em1``

   New in version Fedora22.

"--bridgeopts BRIDGEOPTS"

   An optional comma-separated list of parameters for the bridged
   interface.  Available values are "stp", "priority", "forward-
   delay", "hello-time", "max-age", and "ageing-time". For information
   about these parameters, see the bridge setting table in the nm-
   settings(5) man page or at
   https://developer.gnome.org/NetworkManager/0.9/ref-settings.html.

   New in version Fedora22.

"--no-activate"

   Use this option with first network command to prevent activation of
   the device in istaller environment

   New in version Fedora25.

"--bindto {mac}"

   Optionally allows to specify how the connection configuration
   created for the device should be bound. If the option is not used,
   the connection binds to interface name ("DEVICE" value in ifcfg
   file). For virtual devices (bond, team, bridge) it configures
   binding of slaves. Not applicable to vlan devices.

   Note that this option is independent of how the "--device" is
   specified.

   Currently only the value "mac" is suported. "--bindto=mac" will
   bind the connection to MAC address of the device ("HWADDR" value in
   ifcfg file).

   For example:

      ``network --device=01:23:45:67:89:ab --bootproto=dhcp --bindto=mac``

   will bind the configuration of the device specified by MAC address
   "01:23:45:67:89:ab" to its MAC address.

   "network --device=01:23:45:67:89:ab --bootproto=dhcp"

   will bind the configuration of the device specified by MAC address
   "01:23:45:67:89:ab" to its interface name (eg "ens3").

   "network --device=ens3 --bootproto=dhcp --bindto=mac"

   will bind the configuration of the device specified by interface
   name "ens3" to its MAC address.

   New in version Fedora27.


nfs
---

   nfs --server <hostname> --dir <directory> [--opts <options>]

New in version Fedora3.

Install from the NFS server specified. This can either be an exploded
installation tree or a directory of ISO images. In the latter case,
the install.img must also be provided subject to the same rules as
with the harddrive installation method described above.

optional arguments:

"--server <hostname>"

   Server from which to install (hostname or IP).

   New in version Fedora3.

"--dir <directory>"

   Directory containing the "Packages/" directory of the installation
   tree. If doing an ISO install, this directory must also contain
   images/install.img.

   New in version Fedora3.

"--opts <options>"

   Mount options to use for mounting the NFS export. Any options that
   can be specified in "/etc/fstab" for an NFS mount are allowed. The
   options are listed in the "nfs(5)" man page. Multiple options are
   separated with a comma.

   New in version Fedora6.


nvdimm
------

   nvdimm [--namespace <namespace>]
      [--blockdevs <devspec1>,<devspec2>,...,<devspecN>] [--mode {sector}]
      [--sectorsize SECTORSIZE]
      {reconfigure,use}

New in version Fedora28.

Perform an action on an nvdimm device.

positional arguments:

"{reconfigure,use}"

   The action to be performed on the device specified by further
   options. The device can be specified by "--namespace" or "--
   blockdevs" options, depending on the action.

   Valid actions: - "reconfigure": Reconfigures the device specified
   by "--namespace" into the mode specified by "--mode" and (depending
   on the mode) "--sectorsize" options. The device reconfigured into
   sector mode will be allowed to be used for storage configuration. -
   "use": Allow the device to be used for storage configuration. By
   default nvdimm devices are ignored. Only devices in sector mode can
   be used.

   New in version Fedora28.

optional arguments:

"--namespace <namespace>"

   The device specification by namespace.

   New in version Fedora28.

"--blockdevs <devspec1>,<devspec2>,...,<devspecN>"

   Specification of devices by comma separated list of block device
   names.

   New in version Fedora28.

"--mode {sector}"

   The mode specification.

   New in version Fedora28.

"--sectorsize SECTORSIZE"

   Size of a sector for sector mode.

   New in version Fedora28.


ostreesetup
-----------

   ostreesetup --osname OSNAME [--remote REMOTE] --url URL --ref REF [--nogpg]

New in version Fedora21.

Used for OSTree installations. See
https://wiki.gnome.org/action/show/Projects/OSTree for more
information about OSTree.

optional arguments:

"--osname OSNAME"

   Management root for OS installation.

   New in version Fedora21.

"--remote REMOTE"

   Management root for OS installation.

   New in version Fedora21.

"--url URL"

   Repository URL.

   New in version Fedora21.

"--ref REF"

   Name of branch inside the repository.

   New in version Fedora21.

"--nogpg"

   Disable GPG key verification.

   New in version Fedora21.


part or partition
-----------------

   part|partition [--asprimary] [--fstype FSTYPE] [--grow] [--maxsize MAXSIZEMB]
              [--noformat] [--onbiosdisk ONBIOSDISK] [--ondisk DISK]
              [--onpart ONPART] [--recommended] [--size SIZE]
              [--fsoptions FSOPTS] [--label LABEL] [--fsprofile FSPROFILE]
              [--encrypted] [--passphrase PASSPHRASE] [--escrowcert <url>]
              [--backuppassphrase] [--resize] [--hibernation]
              [--cipher CIPHER] [--mkfsoptions MKFSOPTS] [--active]
              [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
              [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
              [--pbkdf-iterations PBKDF_ITERATIONS]
              <mntpoint>

New in version Fedora3.

Creates a partition on the system. This command is required. All
partitions created will be formatted as part of the installation
process unless "--noformat" and "--onpart" are used.

Note:

  "part|partition" cannot be used with the following commands:
  autopart, mount

positional arguments:

"<mntpoint>"

   The "<mntpoint>" is where the partition will be mounted and must be
   of one of the following forms:

   "/<path>"

   For example, "/", "/usr", "/home"

   "swap"

   The partition will be used as swap space.

   "raid.<id>"

   The partition will be used for software RAID. Refer to the "raid"
   command.

   "pv.<id>"

   The partition will be used for LVM. Refer to the "logvol" command.

   "btrfs.<id>"

   The partition will be used for BTRFS volume. Rerefer to the "btrfs"
   command.

   "biosboot"

   The partition will be used for a BIOS Boot Partition. As of Fedora
   16 there must be a biosboot partition for the bootloader to be
   successfully installed onto a disk that contains a GPT/GUID
   partition table. Rerefer to the "bootloader" command.

   New in version Fedora3.

optional arguments:

"--asprimary"

   Forces automatic allocation of the partition as a primary partition
   or the partitioning will fail.

   **TIP:** The "--asprimary" option only makes sense with the MBR
   partitioning scheme and is ignored when the GPT partitioning scheme
   is used.

   New in version Fedora3.

"--fstype FSTYPE, --type FSTYPE"

   Sets the file system type for the partition. Valid values include
   ext4, ext3, ext2, xfs, btrfs, swap, and vfat. Other filesystems may
   be valid depending on command line arguments passed to anaconda to
   enable other filesystems.

   New in version Fedora3.

   Changed in version RedHatEnterpriseLinux8.

   Btrfs support was removed.

"--grow"

   Tells the partition to grow to fill available space (if any), or up
   to the maximum size setting. Note that "--grow" is not supported
   for partitions containing a RAID volume on top of them.

   New in version Fedora3.

"--maxsize MAXSIZEMB"

   The maximum size in MiB the partition may grow to. Specify an
   integer value here, and do not append any units. This option is
   only relevant if "--grow" is specified as well.

   New in version Fedora3.

"--noformat"

   Tells the installation program not to format the partition, for use
   with the "--onpart" command.

   New in version Fedora3.

"--onbiosdisk ONBIOSDISK"

   Forces the partition to be created on a particular disk as
   discovered by the BIOS.

   New in version Fedora3.

"--ondisk DISK, --ondrive DISK"

   Forces the partition to be created on a particular disk.

   New in version Fedora3.

"--onpart ONPART, --usepart ONPART"

   Put the partition on an already existing device. Use "--
   onpart=LABEL=name" or "--onpart=UUID=name" to specify a partition
   by label or uuid respectively.

   Anaconda may create partitions in any particular order, so it is
   safer to use labels than absolute partition names.

   New in version Fedora3.

"--recommended"

   Determine the size of the partition automatically.

   New in version Fedora3.

"--size SIZE"

   The minimum partition size in MiB. Specify an integer value here
   and do not append any units.

   New in version Fedora3.

"--fsoptions FSOPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the /etc/fstab file
   of the installed system and should be enclosed in quotes.

   New in version Fedora4.

"--label LABEL"

   Specify the label to give to the filesystem to be made on the
   partition. If the given label is already in use by another
   filesystem, a new label will be created for this partition.

   New in version Fedora4.

"--bytes-per-inode BYTES_PER_INODE"

   Specify the bytes/inode ratio.

   New in version Fedora4.

   Deprecated since version Fedora9.

   Removed in version Fedora14.

"--fsprofile FSPROFILE"

   Specifies a usage type to be passed to the program that makes a
   filesystem on this partition. A usage type defines a variety of
   tuning parameters to be used when making a filesystem. For this
   option to work, the filesystem must support the concept of usage
   types and there must be a configuration file that lists valid
   types. For ext2/3/4, this configuration file is "/etc/mke2fs.conf".

   New in version Fedora9.

"--encrypted"

   Specify that this partition should be encrypted.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Specify the passphrase to use when encrypting this partition.
   Without the above –encrypted option, this option does nothing. If
   no passphrase is specified, the default system-wide one is used, or
   the installer will stop and prompt if there is no default.

   New in version Fedora9.

"--start START"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora11.

   Removed in version Fedora14.

"--end END"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora11.

   Removed in version Fedora14.

"--escrowcert <url>"

   Load an X.509 certificate from "<url>". Store the data encryption
   key of this partition, encrypted using the certificate, as a file
   in "/root". Only relevant if "--encrypted" is specified as well.

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified as well. In addition
   to storing the data encryption key, generate a random passphrase
   and add it to this partition. Then store the passphrase, encrypted
   using the certificate specified by "--escrowcert", as a file in
   "/root". If more than one LUKS volume uses "--backuppassphrase",
   the same passphrase will be used for all such volumes.

   New in version Fedora12.

"--resize"

   Attempt to resize this partition to the size given by "--size=".
   This option must be used with "--onpart --size=", or an error will
   be raised.

   New in version Fedora17.

"--hibernation"

   This option can be used to automatically determine the size of the
   swap partition big enough for hibernation.

   New in version Fedora18.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. This is similar to "--
   fsprofile" but works for all filesystems, not just the ones that
   support the profile concept. No processing is done on the list of
   arguments, so they must be supplied in a format that can be passed
   directly to the mkfs program. This means multiple options should be
   comma-separated or surrounded by double quotes, depending on the
   filesystem.

   New in version Fedora23.

"--active"

   Set partition as active

   New in version Fedora3.

   Deprecated since version Fedora29.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

If partitioning fails for any reason, diagnostic messages will appear
on virtual console 3.


raid
----

   raid --device DEVICE [--fstype FSTYPE] [--level LEVEL] [--noformat]
    [--spares SPARES] [--useexisting] [--fsoptions FSOPTS]
    [--fsprofile FSPROFILE] [--encrypted] [--passphrase PASSPHRASE]
    [--escrowcert <url>] [--backuppassphrase] [--label LABEL]
    [--cipher CIPHER] [--mkfsoptions MKFSOPTS] [--chunksize CHUNK_SIZE]
    [--luks-version LUKS_VERSION] [--pbkdf PBKDF]
    [--pbkdf-memory PBKDF_MEMORY] [--pbkdf-time PBKDF_TIME]
    [--pbkdf-iterations PBKDF_ITERATIONS]
    <mntpoint> [<partitions*> [<partitions*> ...]]

New in version Fedora3.

Assembles a software RAID device.

Note:

  "raid" cannot be used with the following commands: autopart, mount

positional arguments:

"<mntpoint>"

   Location where the RAID file system is mounted. If it is /, the
   RAID level must be 1 unless a boot partition (/boot) is present. If
   a boot partition is present, the /boot partition must be level 1
   and the root (/) partition can be any of the available types.

   New in version Fedora3.

"<partitions*>"

   The software raid partitions lists the RAID identifiers to add to
   the RAID array.

   New in version Fedora3.

optional arguments:

"--device DEVICE"

   Name of the RAID device to use (such as ‘fedora-root’ or ‘home’).
   As of Fedora 19, RAID devices are no longer referred to by names
   like ‘md0’. If you have an old (v0.90 metadata) array that you
   cannot assign a name to, you can specify the array by a filesystem
   label or UUID (eg: –device=LABEL=fedora-root).

   New in version Fedora3.

"--fstype FSTYPE"

   Sets the file system type for the RAID array. Valid values include
   ext4, ext3, ext2, btrfs, swap, and vfat. Other filesystems may be
   valid depending on command line arguments passed to anaconda to
   enable other filesystems.

   New in version Fedora3.

   Changed in version RedHatEnterpriseLinux8.

   Btrfs support was removed.

"--level LEVEL"

   RAID level to use {‘RAID5’, ‘RAID10’, ‘RAID6’, ‘RAID0’, ‘RAID4’,
   ‘RAID1’}.

   New in version Fedora3.

   Changed in version Fedora7.

   The “RAID10” level was added.

   Changed in version Fedora13.

   The “RAID4” level was added.

"--noformat"

   Use an existing RAID device and do not format the RAID array.

   New in version Fedora3.

"--spares SPARES"

   Specifies the number of spare drives allocated for the RAID array.
   Spare drives are used to rebuild the array in case of drive
   failure.

   New in version Fedora3.

"--useexisting"

   Use an existing RAID device and reformat it.

   New in version Fedora3.

"--fsoptions FSOPTS"

   Specifies a free form string of options to be used when mounting
   the filesystem. This string will be copied into the /etc/fstab file
   of the installed system and should be enclosed in quotes.

   New in version Fedora4.

"--bytes-per-inode BYTES_PER_INODE"

   Specify the bytes/inode ratio.

   New in version Fedora5.

   Deprecated since version Fedora9.

   Removed in version Fedora14.

"--fsprofile FSPROFILE"

   Specifies a usage type to be passed to the program that makes a
   filesystem on this partition. A usage type defines a variety of
   tuning parameters to be used when making a filesystem. For this
   option to work, the filesystem must support the concept of usage
   types and there must be a configuration file that lists valid
   types. For ext2/3/4, this configuration file is "/etc/mke2fs.conf".

   New in version Fedora9.

"--encrypted"

   Specify that this RAID device should be encrypted.

   New in version Fedora9.

"--passphrase PASSPHRASE"

   Specify the passphrase to use when encrypting this RAID device.
   Without the above –encrypted option, this option does nothing. If
   no passphrase is specified, the default system-wide one is used, or
   the installer will stop and prompt if there is no default.

   New in version Fedora9.

"--escrowcert <url>"

   Load an X.509 certificate from "<url>". Store the data encryption
   key of this partition, encrypted using the certificate, as a file
   in "/root". Only relevant if "--encrypted" is specified as well.

   New in version Fedora12.

"--backuppassphrase"

   Only relevant if "--escrowcert" is specified as well. In addition
   to storing the data encryption key, generate a random passphrase
   and add it to this partition. Then store the passphrase, encrypted
   using the certificate specified by "--escrowcert", as a file in
   "/root". If more than one LUKS volume uses "--backuppassphrase",
   the same passphrase will be used for all such volumes.

   New in version Fedora12.

"--label LABEL"

   Specify the label to give to the filesystem to be made. If the
   given label is already in use by another filesystem, a new label
   will be created.

   New in version Fedora15.

"--cipher CIPHER"

   Only relevant if "--encrypted" is specified. Specifies which
   encryption algorithm should be used to encrypt the filesystem.

   New in version Fedora18.

"--mkfsoptions MKFSOPTS"

   Specifies additional parameters to be passed to the program that
   makes a filesystem on this partition. No processing is done on the
   list of arguments, so they must be supplied in a format that can be
   passed directly to the mkfs program. This means multiple options
   should be comma-separated or surrounded by double quotes, depending
   on the filesystem.

   New in version Fedora23.

"--chunksize CHUNK_SIZE"

   Specify the chunk size (in KiB) for this RAID array.

   New in version Fedora25.

"--luks-version LUKS_VERSION"

   Only relevant if "--encrypted" is specified. Specifies which
   version of LUKS format should be used to encrypt the filesystem.

   New in version Fedora29.

"--pbkdf PBKDF"

   Only relevant if "--encrypted" is specified. Sets Password-Based
   Key Derivation Function (PBKDF) algorithm for LUKS keyslot. See
   "man cryptsetup".

   New in version Fedora29.

"--pbkdf-memory PBKDF_MEMORY"

   Only relevant if "--encrypted" is specified. Sets the memory cost
   for PBKDF. See "man cryptsetup".

   New in version Fedora29.

"--pbkdf-time PBKDF_TIME"

   Only relevant if "--encrypted" is specified. Sets the number of
   milliseconds to spend with PBKDF passphrase processing. See "--
   iter-time" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

"--pbkdf-iterations PBKDF_ITERATIONS"

   Only relevant if "--encrypted" is specified. Sets the number of
   iterations directly and avoids PBKDF benchmark. See "--pbkdf-force-
   iterations" in "man cryptsetup".

   Only one of "--pbkdf-time" and "--pbkdf-iterations" can be
   specified.

   New in version Fedora29.

The following example shows how to create a RAID level 1 partition for
/, and a RAID level 5 for /usr, assuming there are three disks on the
system. It also creates three swap partitions, one on each drive:

   part raid.01 --size=6000 --ondisk=sda
   part raid.02 --size=6000 --ondisk=sdb
   part raid.03 --size=6000 --ondisk=sdc

   part swap1 --size=512 --ondisk=sda
   part swap2 --size=512 --ondisk=sdb
   part swap3 --size=512 --ondisk=sdc

   part raid.11 --size=6000 --ondisk=sda
   part raid.12 --size=6000 --ondisk=sdb
   part raid.13 --size=6000 --ondisk=sdc

   raid / --level=1 --device=md0 raid.01 raid.02 raid.03
   raid /usr --level=5 --device=md1 raid.11 raid.12 raid.13


realm
-----

   realm

New in version Fedora19.

define an Active Directory realm to join


repo
----

   repo --name NAME [--baseurl BASEURL] [--mirrorlist MIRRORLIST] [--cost COST]
    [--excludepkgs EXCLUDEPKGS] [--includepkgs INCLUDEPKGS]
    [--ignoregroups IGNOREGROUPS] [--proxy PROXY] [--noverifyssl] [--install]
    [--metalink METALINK] [--sslcacert SSLCACERT]
    [--sslclientcert SSLCLIENTCERT] [--sslclientkey SSLCLIENTKEY]

New in version Fedora6.

Configures additional yum repositories that may be used as sources for
package installation. Multiple repo lines may be specified. By
default, anaconda has a configured set of repos taken from
/etc/anaconda.repos.d plus a special Installation Repo in the case of
a media install. The exact set of repos in this directory changes from
release to release and cannot be listed here. There will likely always
be a repo named “updates”.

Note: If you want to enable one of the repos in /etc/anaconda.repos.d
that is disabled by default (like “updates”), you should use –name=
but none of the other options. anaconda will look for a repo by this
name automatically. Providing a baseurl or mirrorlist URL will result
in anaconda attempting to add another repo by the same name, which
will cause a conflicting repo error.

optional arguments:

"--name NAME"

   The repo id. This option is required. The RepoId must not contain
   spaces (do not confuse with the optional name used by yum). If a
   repo has a name that conflicts with a previously added one, the new
   repo will be ignored. Because anaconda has a populated list of
   repos when it starts, this means that users cannot create new repos
   that override these names. Please check /etc/anaconda.repos.d from
   the operating system you wish to install to see what names are not
   available.

   New in version Fedora6.

"--baseurl BASEURL"

   The URL for the repository. The variables that may be used in yum
   repo config files are not supported here. You may use one of either
   this option or "--mirrorlist", not both. If an NFS repository is
   specified, it should be of the form "nfs://host:/path/to/repo".
   Note that there is a colon after the host. Anaconda passes
   everything after “nfs:// “ directly to the mount command instead of
   parsing URLs according to RFC 2224. Variable substitution is done
   for $releasever and $basearch in the url.

   New in version Fedora6.

   Changed in version Fedora15.

   "--mirrorlist" and "--baseurl" are not required anymore!

   Changed in version Fedora27.

   "Another mutually exclusive option --metalink" was added.

"--mirrorlist MIRRORLIST"

   The URL pointing at a list of mirrors for the repository. The
   variables that may be used in yum repo config files are not
   supported here. You may use one of either this option or "--
   baseurl", not both. Variable substitution is done for $releasever
   and $basearch in the url.

   New in version Fedora6.

   Changed in version Fedora15.

   "--mirrorlist" and "--baseurl" are not required anymore!

   Changed in version Fedora27.

   "Another mutually exclusive option --metalink" was added.

"--cost COST"

   An integer value to assign a cost to this repository. If multiple
   repositories provide the same packages, this number will be used to
   prioritize which repository will be used before another.
   Repositories with a lower cost take priority over repositories with
   higher cost.

   New in version Fedora8.

"--excludepkgs EXCLUDEPKGS"

   A comma-separated list of package names and globs that must not be
   fetched from this repository. This is useful if multiple
   repositories provide the same package and you want to make sure it
   is not fetched from a particular repository during installation.

   New in version Fedora8.

"--includepkgs INCLUDEPKGS"

   A comma-separated list of package names and globs that can be
   pulled from this repository. Any other packages provided by the
   repository not on this list will be ignored. This is useful if you
   want to install just a single package or set of packages from a
   repository while including all other packages the repository
   provides.

   New in version Fedora8.

"--ignoregroups IGNOREGROUPS"

   This option is used when composing installation trees and has no
   effect on the installation process itself. It tells the compose
   tools to not look at the package group information when mirroring
   trees so as to avoid mirroring large amounts of unnecessary data.

   New in version Fedora11.

"--proxy PROXY"

   Specify an HTTP/HTTPS/FTP proxy to use just for this repository.
   This setting does not affect any other repositories, nor how the
   install.img is fetched on HTTP installs. The various parts of the
   argument act like you would expect. The syntax is:

      ``--proxy=[protocol://][username[:password]@]host[:port]``

   New in version Fedora13.

"--noverifyssl"

   For a https repo do not check the server’s certificate with what
   well-known CA validate and do not check the server’s hostname
   matches the certificate’s domain name.

   New in version Fedora14.

"--install"

   Install this repository to the target system so that it can be used
   after reboot.

   New in version Fedora21.

"--metalink METALINK"

   The URL pointing at a metalink for the repository. The variables
   that may be used in yum repo config files are not supported here.
   You may use only one of the "--baseurl", "--mirrorlist", or "--
   metalink" options. Variable substitution is done for $releasever
   and $basearch in the url.

   New in version Fedora27.

"--sslcacert SSLCACERT"

   Path to the file holding one or more SSL certificates to verify the
   repository host with.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientcert SSLCLIENTCERT"

   Path to the SSL client certificate (PEM file) which should be used
   to connect to the repository.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientkey SSLCLIENTKEY"

   Path to the private key file associated with the client certificate
   given with –sslclientcert.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.


reqpart
-------

   reqpart [--add-boot]

New in version Fedora23.

Automatically create partitions required by your hardware platform.
These include a "/boot/efi" for x86_64 and Aarch64 systems with UEFI
firmware, "biosboot" for x86_64 systems with BIOS firmware and GPT,
and "PRePBoot" for IBM Power Systems.

Note: This command can not be used together with "autopart", because
"autopart" does the same and creates other partitions or logical
volumes such as "/" and "swap" on top. In contrast with "autopart",
this command only creates platform-specific partitions and leaves the
rest of the drive empty, allowing you to create a custom layout.

Note:

  "reqpart" cannot be used with the following commands: autopart,
  mount

optional arguments:

"--add-boot"

   Create a separate "/boot" partition in addition to the platform-
   specific partition created by the base command.

   New in version Fedora23.


rescue
------

   rescue [--nomount] [--romount]

New in version Fedora10.

Automatically enter the installer’s rescue mode. This gives you a
chance to repair the system should something catastrophic happen.

optional arguments:

"--nomount"

   Don’t mount the installed system.

   New in version Fedora10.

"--romount"

   Mount the installed system in read-only mode.

   New in version Fedora10.

By default, the installer will find your system and mount it in read-
write mode, telling you where it has performed this mount. You may
optionally choose to not mount anything or mount in read-only mode.
Only one of these two options may be given at any one time.


rhsm
----

   rhsm --organization <organization_name> --activation-key <activation_key>
    [--connect-to-insights] [--proxy PROXY]
    [--server-hostname <subscription_service_server_url>]
    [--rhsm-baseurl <content_base_url>]

New in version RedHatEnterpriseLinux8.

The rhsm command is used to configure a Red Hat subscription. A Red
Hat subscription is required for installing from the Red Hat CDN
installation source as well connecting the target system to Red Hat
Insights.

Subscription attached during the installation will also be available
on the target system after the installation.

System Purpose data specified via the syspurpose command may influence
what subscription will be attached to the system. System Purpose data
set via the syspurpose command will override system purpose data
attached to activation keys.

An organization id needs to be specified, as well as at least one
activation key.

optional arguments:

"--organization <organization_name>"

   Organization id.

   New in version RedHatEnterpriseLinux8.

"--activation-key <activation_key>"

   Activation key. Option can be used multiple times, once per
   activation key.

   New in version RedHatEnterpriseLinux8.

"--connect-to-insights"

   Connect to Red Hat Insights.

   New in version RedHatEnterpriseLinux8.

"--proxy PROXY"

   Specify an HTTP proxy to use for subscription purposes. The syntax
   is:

      ``--proxy=[protocol://][username[:password]@]host[:port]``

   New in version RedHatEnterpriseLinux8.

"--server-hostname <subscription_service_server_url>"

   Red Hat subscription service server URL.

   New in version RedHatEnterpriseLinux8.

"--rhsm-baseurl <content_base_url>"

   Content base URL.

   New in version RedHatEnterpriseLinux8.


rootpw
------

   rootpw [--iscrypted] [--lock] [--plaintext] [<password>]

New in version Fedora3.

This required command sets the system’s root password.

positional arguments:

"<password>"

   The desired root password.

   New in version Fedora3.

optional arguments:

"--iscrypted"

   If this is present, the password argument is assumed to already be
   encrypted. To create an encrypted password you can use python:

      ``python -c 'import crypt; print(crypt.crypt("My Password", "$6$My Salt"))'``

   This will generate sha512 crypt of your password using your
   provided salt.

   New in version Fedora3.

"--lock"

   If this is present, the root account is locked by default. That is,
   the root user will not be able to login from the console. When this
   option is present the <password> argument is not required.

   New in version Fedora8.

"--plaintext"

   The password argument is assumed to not be encrypted. This is the
   default!

   New in version Fedora8.


selinux
-------

   selinux [--disabled] [--enforcing] [--permissive]

New in version Fedora3.

Sets the state of SELinux on the installed system. SELinux defaults to
enforcing in anaconda.

optional arguments:

"--disabled"

   If this is present, SELinux is disabled.

   New in version Fedora3.

"--enforcing"

   If this is present, SELinux is set to enforcing mode.

   New in version Fedora3.

"--permissive"

   If this is present, SELinux is enabled, but only logs things that
   would be denied in enforcing mode.

   New in version Fedora3.

Only one of "--disabled", "--enabled" or "--permissive" must be
specified!


services
--------

   services [--disabled <list>] [--enabled <list>]

New in version Fedora6.

Modifies the default set of services that will run under the default
runlevel. The services listed in the disabled list will be disabled
before the services listed in the enabled list are enabled.

optional arguments:

"--disabled <list>"

   Disable the services given in the comma separated list.

   New in version Fedora6.

"--enabled <list>"

   Enable the services given in the comma separated list.

   New in version Fedora6.

One of "--disabled" or "--enabled" must be provided.


skipx
-----

   skipx

New in version Fedora3.

If present, X is not configured on the installed system.


snapshot
--------

   snapshot --name <snapshot_name> --when <post-install|pre-install>
        <originVG/originLV>

New in version Fedora26.

Create an LVM snapshot for devices on an LVM thin pool.

positional arguments:

"<originVG/originLV>"

   Origin of the snapshot. The origin is specified as "<VG>/<LV>".

   New in version Fedora26.

optional arguments:

"--name <snapshot_name>"

   Name of the newly created snapshot.

   New in version Fedora26.

"--when <post-install|pre-install>"

   You can specify two possible values: "pre-install" and "post-
   install". When the "pre-install" value is used the snapshot is
   created before the installation but after the "%pre" section is
   run. When the "post-install" value is used the snapshot is created
   after the installation is done and after the "%post" section is
   run.

   New in version Fedora26.


sshkey
------

   sshkey --username <user> "ssh key"

New in version Fedora22.

This installs a ssh key to the authorized_keys file of the specified
user on the installed system.

positional arguments:

""ssh key""

   The content of the ssh key to install.

   New in version Fedora22.

optional arguments:

"--username <user>"

   User for which to install the specified key. This option is
   required.

   New in version Fedora22.

Note that the key should be quoted, if it contains spaces and the user
should exist (or be root) either via creation by a package install or
the kickstart "user" command.


sshpw
-----

   sshpw --username <name> [--iscrypted] [--plaintext] [--lock] [--sshkey]
     [<password> [<password> ...]]

New in version Fedora13.

The installer can start up ssh to provide for interactivity and
inspection, just like it can with telnet. The “inst.sshd” option must
be specified on the kernel command-line for Anaconda to start an ssh
daemon. The sshpw command is used to control the accounts created in
the installation environment that may be remotely logged into. For
each instance of this command given, a user will be created. These
users will not be created on the final system - they only exist for
use while the installer is running.

Note that by default, root has a blank password. If you don’t want any
user to be able to ssh in and have full access to your hardware, you
must specify sshpw for username root. Also note that if Anaconda fails
to parse the kickstart file, it will allow anyone to login as root and
have full access to your hardware.

positional arguments:

"<password>"

   The password string to use.

   New in version Fedora13.

optional arguments:

"--username <name>"

   Provides the name of the user. This option is required.

   New in version Fedora13.

"--iscrypted"

   If this is present, the password argument is assumed to already be
   encrypted.

   New in version Fedora13.

"--plaintext"

   If this is present, the password argument is assumed to not be
   encrypted. This is the default.

   New in version Fedora13.

"--lock"

   If this is present, the new user account is locked by default. That
   is, the user will not be able to login from the console.

   New in version Fedora13.

"--sshkey"

   If this is used then the <password> string is interpreted as an ssh
   key value.

   New in version Fedora24.


syspurpose
----------

   syspurpose [--role <role_name>] [--sla <sla_name>] [--usage <usage>]
          [--addon <layered product or feature>]

New in version RedHatEnterpriseLinux8.

The syspurpose command is used to describe how the system is intended
to be used after the installation.

This information then can be used to apply the correct subscription
entitlement to the system.

optional arguments:

"--role <role_name>"

   The intended role of the system.

   New in version RedHatEnterpriseLinux8.

"--sla <sla_name>"

   Name of the sla intended for the system.

   New in version RedHatEnterpriseLinux8.

"--usage <usage>"

   The intended usage of the system.

   New in version RedHatEnterpriseLinux8.

"--addon <layered product or feature>"

   Any additional layered products or features. To add multiple items
   specify –addon multiple times, once per layered product/feature.

   New in version RedHatEnterpriseLinux8.


timezone
--------

   timezone [--utc] [--nontp] [--ntpservers <server1>,<server2>,...,<serverN>]
        [<timezone> [<timezone> ...]]

New in version Fedora3.

This required command sets the system time zone to which may be any of
the time zones listed by timeconfig.

positional arguments:

"<timezone>"

   Timezone name, e.g. Europe/Sofia. This is optional but at least one
   of the options needs to be used if no timezone is specified.

   New in version Fedora3.

optional arguments:

"--utc, --isUtc"

   If present, the system assumes the hardware clock is set to UTC
   (Greenwich Mean) time.

   *To get the list of supported timezones, you can either run this
   script: http://vpodzime.fedorapeople.org/timezones_list.py or look
   at this list: http://vpodzime.fedorapeople.org/timezones_list.txt*

   New in version Fedora6.

"--nontp"

   Disable automatic starting of NTP service.

   "--nontp" and "--ntpservers" are mutually exclusive.

   New in version Fedora18.

"--ntpservers <server1>,<server2>,...,<serverN>"

   Specify a list of NTP servers to be used (comma-separated list with
   no spaces). The chrony package is automatically installed when this
   option is used. If you don’t want the package to be automatically
   installed then use "-chrony" in package selection. For example:

      ``timezone --ntpservers=ntp.cesnet.cz,tik.nic.cz Europe/Prague``

   New in version Fedora18.


unsupported_hardware
--------------------

   unsupported_hardware

New in version RedHatEnterpriseLinux6.

allow installation to proceed on systems with tainted hardware


updates
-------

   updates [[URL] [[URL] ...]]

New in version Fedora7.

Specify the location of an updates.img for use in installation. See
anaconda-release-notes.txt for a description of how to make an
updates.img.

positional arguments:

"[URL]"

   If present, the URL for an updates image.

   If not present, anaconda will attempt to load from a floppy disk.

   New in version Fedora7.


install or upgrade
------------------

   install|upgrade [--root-device ROOT_DEVICE]

New in version Fedora3.

Install a fresh system or upgrade an existing system. Install is the
default mode. For installation, you must specify the type of
installation from one of cdrom, harddrive, nfs, or url (for ftp or
http installations). The install command and the installation method
command must be on separate lines.

Deprecated since version Fedora20.

Starting with F18, upgrades are no longer supported in anaconda and
should be done with FedUp, the Fedora update tool. Starting with F21,
the DNF system-upgrade plugin is recommended instead.  Therefore, the
upgrade command essentially does nothing.

optional arguments:

"--root-device ROOT_DEVICE"

   On a system with multiple installs, this option specifies which
   filesystem holds the installation to be upgraded. This can be
   specified by device name, UUID=, or LABEL= just like the harddrive
   command may be.

   New in version Fedora11.


url
---

   url [--proxy URL] [--noverifyssl] [--mirrorlist URL] [--url URL]
   [--metalink URL] [--sslcacert SSLCACERT] [--sslclientcert SSLCLIENTCERT]
   [--sslclientkey SSLCLIENTKEY]

New in version Fedora3.

Install from an installation tree on a remote server via FTP or HTTP.

optional arguments:

"--proxy URL"

   Specify an HTTP/HTTPS/FTP proxy to use while performing the
   install. The various parts of the argument act like you would
   expect. The syntax is:

      [protocol://][username[:password]@]host[:port]

   New in version Fedora13.

"--noverifyssl"

   For a tree on a HTTPS server do not check the server’s certificate
   with what well-known CA validate and do not check the server’s
   hostname matches the certificate’s domain name.

   New in version Fedora14.

"--mirrorlist URL"

   The mirrorlist URL to install from. Variable substitution is done
   for $releasever and $basearch in the url.

   New in version Fedora18.

"--url URL"

   The URL to install from. Variable substitution is done for
   $releasever and $basearch in the url.

   New in version Fedora3.

   Changed in version Fedora18.

   Only one of the –url or –mirrorlist can be specified.

   Changed in version Fedora27.

   Only one of the –url, –mirrorlist or –metalink can be specified.

"--metalink URL"

   The metalink URL to install from. Variable substitution is done for
   $releasever and $basearch in the url.

   New in version Fedora27.

"--sslcacert SSLCACERT"

   Path to the file holding one or more SSL certificates to verify the
   repository host with.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientcert SSLCLIENTCERT"

   Path to the SSL client certificate (PEM file) which should be used
   to connect to the repository.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.

"--sslclientkey SSLCLIENTKEY"

   Path to the private key file associated with the client certificate
   given with –sslclientcert.

   **Note** Usage of this parameter is discouraged. It is designed for
   a specific image building tool use and there are plans for a
   replacement.

   New in version Fedora30.


user
----

   user [--homedir HOMEDIR] [--iscrypted] --name NAME [--password PASSWORD]
    [--shell SHELL] [--uid INT] [--lock] [--plaintext] [--gecos GECOS]
    [--gid INT] [--groups GROUPS]

New in version Fedora6.

Creates a new user on the system.

optional arguments:

"--homedir HOMEDIR"

   The home directory for the user. If not provided, this defaults to
   /home/.

   New in version Fedora6.

"--iscrypted"

   If specified, consider the password provided by "--password"
   already encrypted. This is the default.

   New in version Fedora6.

"--name NAME"

   Provides the name of the user. This option is required.

   New in version Fedora6.

"--password PASSWORD"

   The new user’s password. If not provided, the account will be
   locked by default. If this is present, the password argument is
   assumed to already be encrypted. "--plaintext" has the opposite
   effect - the password argument is assumed to not be encrypted. To
   create an encrypted password you can use python:

      ``python -c 'import crypt; print(crypt.crypt("My Password", "$6$My Sault"))'``

   This will generate sha512 crypt of your password using your
   provided salt.

   New in version Fedora6.

"--shell SHELL"

   The user’s login shell. If not provided, this defaults to the
   system default.

   New in version Fedora6.

"--uid INT"

   The user’s UID. If not provided, this defaults to the next
   available non-system UID.

   New in version Fedora6.

"--lock"

   If this is present, the new user account is locked by default. That
   is, the user will not be able to login from the console.

   New in version Fedora8.

"--plaintext"

   If specified, consider the password provided by "--password" to be
   plain text.

   New in version Fedora8.

"--gecos GECOS"

   Provides the GECOS information for the user. This is a string of
   various system-specific fields separated by a comma. It is
   frequently used to specify the user’s full name, office number, and
   the like. See "man 5 passwd" for more details.

   New in version Fedora12.

"--gid INT"

   The GID of the user’s primary group. If not provided, this defaults
   to the next available non-system GID.

   New in version Fedora19.

"--groups GROUPS"

   In addition to the default group, a comma separated list of group
   names the user should belong to. Any groups that do not already
   exist will be created. If the group already exists with a different
   GID, an error will be raised.

   New in version Fedora6.

   Changed in version Fedora24.

   The group name can optionally be followed by a GID in parenthesis,
   for example, "newgroup(5002)".


vnc
---

   vnc [--password PASSWORD] [--host HOST] [--port PORT]

New in version Fedora3.

Allows the graphical installation to be viewed remotely via VNC. This
method is usually preferred over text mode, as there are some size and
language limitations in text installs. With no options, this command
will start a VNC server on the machine with no password and will print
out the command that needs to be run to connect a remote machine.

optional arguments:

"--password PASSWORD"

   Set a password which must be provided to connect to the VNC
   session. This is optional, but recommended.

   New in version Fedora3.

"--connect host[:port]"

   Connect to a remote host instead of starting VNC server locally.

   New in version Fedora3.

   Changed in version Fedora6.

   Added support for host[:port] syntax.

   Removed in version Fedora9.

"--host HOST"

   Instead of starting a VNC server on the install machine, connect to
   the VNC viewer process listening on the given hostname.

   New in version Fedora6.

"--port PORT"

   Provide a port that the remote VNC viewer process is listening on.
   If not provided, anaconda will use the VNC default.

   New in version Fedora6.


volgroup
--------

   volgroup [--noformat] [--useexisting] [--reserved-space RESERVED_SPACE]
        [--reserved-percent RESERVED_PERCENT] [--pesize PESIZE]
        [<name> [<name> ...]] [<partitions*> [<partitions*> ...]]

New in version Fedora3.

Creates a Logical Volume Management (LVM) group.

Note:

  "volgroup" cannot be used with the following commands: autopart,
  mount

positional arguments:

"<name>"

   Name given to the volume group. The (which denotes that multiple
   partitions can be listed) lists the identifiers to add to the
   volume group.

   New in version Fedora3.

"<partitions*>"

   Physical Volume partitions to be included in this Volume Group

   New in version Fedora3.

optional arguments:

"--noformat"

   Use an existing volume group. Do not specify partitions when using
   this option.

   New in version Fedora3.

"--useexisting"

   Use an existing volume group. Do not specify partitions when using
   this option.

   New in version Fedora3.

"--reserved-space RESERVED_SPACE"

   Specify an amount of space to leave unused in a volume group, in
   MiB. Do not append any units. This option is only used for new
   volume groups.

   New in version Fedora16.

"--reserved-percent RESERVED_PERCENT"

   Specify a percentage of total volume group space to leave unused
   (new volume groups only).

   New in version Fedora16.

"--pesize PESIZE"

   Set the size of the physical extents in KiB.

   New in version Fedora3.

   Changed in version Fedora21.

   Set the size of the physical extents in KiB.

Create the partition first, create the logical volume group, and then
create the logical volume. For example:

   part pv.01 --size 3000
   volgroup myvg pv.01
   logvol / --vgname=myvg --size=2000 --name=rootvol


xconfig
-------

   xconfig [--defaultdesktop GNOME|KDE] [--startxonboot]

New in version Fedora3.

Configures the X Window System. If this option is not given, Anaconda
will use X and attempt to automatically configure. Please try this
before manually configuring your system.

optional arguments:

"--defaultdesktop GNOME|KDE"

   Specify either GNOME or KDE to set the default desktop (assumes
   that GNOME Desktop Environment and/or KDE Desktop Environment has
   been installed through %packages).

   New in version Fedora3.

"--server SERVER"

   REMOVED

   New in version Fedora3.

   Removed in version Fedora6.

"--startxonboot"

   Use a graphical login on the installed system.

   New in version Fedora3.

"--card CARD"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--hsync HSYNC"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--monitor MONITOR"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--noprobe NOPROBE"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--vsync VSYNC"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora6.

   Removed in version Fedora9.

"--driver DRIVER"

   REMOVED

   New in version Fedora6.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--depth DEPTH"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--resolution RESOLUTION"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.

"--videoram VIDEORAM"

   REMOVED

   New in version Fedora3.

   Deprecated since version Fedora10.

   Removed in version Fedora14.


zerombr
-------

   zerombr

New in version Fedora3.

If zerombr is specified, any disks whose formatting is unrecognized
are initialized. This will destroy all of the contents of disks with
invalid partition tables or other formatting unrecognizable to the
installer. It is useful so that the installation program does not ask
if it should initialize the disk label if installing to a brand new
hard drive.


zfcp
----

   zfcp --devnum DEVNUM --fcplun FCPLUN --wwpn WWPN

New in version Fedora3.

Define a Fibre channel device. This option only applies on IBM System
z.

optional arguments:

"--devnum DEVNUM"

   The device number (zFCP adaptor device bus ID).

   New in version Fedora3.

"--fcplun FCPLUN"

   The device’s Logical Unit Number (LUN). Takes the form of a
   16-digit number, preceded by 0x.

   New in version Fedora3.

"--wwpn WWPN"

   The device’s World Wide Port Name (WWPN). Takes the form of a
   16-digit number, preceded by 0x.

   New in version Fedora3.

"--scsiid SCSIID"

   SCSI ID

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.

"--scsilun SCSILUN"

   SCSI LUN

   New in version Fedora3.

   Deprecated since version Fedora12.

   Removed in version Fedora14.


zipl
----

   zipl [--secure-boot] [--force-secure-boot] [--no-secure-boot]

New in version Fedora32.

This command specifies the ZIPL configuration for s390x.

optional arguments:

"--secure-boot"

   Enable Secure Boot if supported by the installing machine.

   **Note** When installed on a model newer than IBM z14, the
   installed system cannot be booted from an IBM z14 and earlier
   models.

   New in version Fedora32.

"--force-secure-boot"

   Enable Secure Boot unconditionally.

   **Note** Installation will fail on IBM z14 and earlier models.

   New in version Fedora32.

"--no-secure-boot"

   Disable Secure Boot.

   **Note** Secure Boot is not supported on IBM z14 and earlier
   models, therefore choose ‘–no-secure-boot’ if you intend to boot
   the installed system on such models.

   New in version Fedora32.


%include
--------

Use the "%include /path/to/file" or "%include <url>" command to
include the contents of another file in the kickstart file as though
the contents were at the location of the %include command in the
kickstart file.


%ksappend
---------

The "%ksappend url" directive is very similar to "%include" in that it
is used to include the contents of additional files as though they
were at the location of the "%ksappend" directive. The difference is
in when the two directives are processed. "%ksappend" is processed in
an initial pass, before any other part of the kickstart file. Then,
this expanded kickstart file is passed to the rest of anaconda where
all "%pre" scripts are handled, and then finally the rest of the
kickstart file is processed in order, which includes "%include"
directives.

Thus, "%ksappend" provides a way to include a file containing "%pre"
scripts, while "%include" does not.


Chapter 4. Pre-installation script
==================================

   %pre [--erroronfail] [--interpreter /usr/bin/python] [--log LOG]

New in version Fedora4.

You can add commands to run on the system immediately after the ks.cfg
has been parsed and the lang, keyboard, and url options have been
processed. This section must be at the end of the kickstart file
(after the commands) and must start with the %pre command. You can
access the network in the %pre section; however, name service has not
been configured at this point, so only IP addresses will work.

Preinstallation scripts are required to be closed with %end.

If your script spawns a daemon process, you must make sure to close
"stdout" and "stderr". Doing so is standard procedure for creating
daemons. If you do not close these file descriptors, the installation
will appear hung as anaconda waits for an EOF from the script.

Note:

  The pre-install script is not run in the chroot environment.

optional arguments:

"--erroronfail"

   If the error script fails, this option will cause an error dialog
   to be displayed and will halt installation. The error message will
   direct you to where the cause of the failure is logged.

   New in version Fedora4.

"--interpreter /usr/bin/python"

   Allows you to specify a different scripting language, such as
   Python. Replace /usr/bin/python with the scripting language of your
   choice.

   New in version Fedora4.

"--log LOG, --logfile LOG"

   Log all messages from the script to the given log file.

   New in version Fedora4.


Example
-------

Here is an example %pre section:

   %pre
   #!/bin/bash
   hds=""
   mymedia=""

   for file in /sys/block/sd*; do
   hds="$hds $(basename $file)"
   done

   set $hds
   numhd=$(echo $#)

   drive1=$(echo $hds | cut -d' ' -f1)
   drive2=$(echo $hds | cut -d' ' -f2)

   if [ $numhd == "2" ]  ; then
       echo "#partitioning scheme generated in %pre for 2 drives" > /tmp/part-include
       echo "clearpart --all" >> /tmp/part-include
       echo "part /boot --fstype ext4 --size 512 --ondisk sda" >> /tmp/part-include
       echo "part / --fstype ext4 --size 10000 --grow --ondisk sda" >> /tmp/part-include
       echo "part swap --recommended --ondisk $drive1" >> /tmp/part-include
       echo "part /home --fstype ext4 --size 10000 --grow --ondisk sdb" >> /tmp/part-include
   else
       echo "#partitioning scheme generated in %pre for 1 drive" > /tmp/part-include
       echo "clearpart --all" >> /tmp/part-include
       echo "part /boot --fstype ext4 --size 521" >> /tmp/part-include
       echo "part swap --recommended" >> /tmp/part-include
       echo "part / --fstype ext4 --size 2048" >> /tmp/part-include
       echo "part /home --fstype ext4 --size 2048 --grow" >> /tmp/part-include
   fi
   %end

This script determines the number of hard drives in the system and
writes a text file with a different partitioning scheme depending on
whether it has one or two drives. Instead of having a set of
partitioning commands in the kickstart file, include the line:

"%include /tmp/part-include"

The partitioning commands selected in the script will be used.


Chapter 5. Pre-install Script
=============================

   %pre-install [--erroronfail] [--interpreter /usr/bin/python] [--log LOG]

New in version Fedora4.

You can use the %pre-install section to run commands after the system
has been partitioned, filesystems created, and everything is mounted
under /mnt/sysimage Like %pre these scripts do not run in the chrooted
environment.

Each %pre-install section is required to be closed with a
corresponding %end.

optional arguments:

"--erroronfail"

   If the error script fails, this option will cause an error dialog
   to be displayed and will halt installation. The error message will
   direct you to where the cause of the failure is logged.

   New in version Fedora4.

"--interpreter /usr/bin/python"

   Allows you to specify a different scripting language, such as
   Python. Replace /usr/bin/python with the scripting language of your
   choice.

   New in version Fedora4.

"--log LOG, --logfile LOG"

   Log all messages from the script to the given log file.

   New in version Fedora4.


Chapter 6. Post-installation Script
===================================

   %post [--erroronfail] [--interpreter /usr/bin/python] [--log LOG] [--nochroot]

New in version Fedora4.

You have the option of adding commands to run on the system once the
installation is complete. This section must be at the end of the
kickstart file and must start with the %post command. This section is
useful for functions such as installing additional software and
configuring an additional nameserver.

You may have more than one %post section, which can be useful for
cases where some post-installation scripts need to be run in the
chroot and others that need access outside the chroot.

Each %post section is required to be closed with a corresponding %end.

If you configured the network with static IP information, including a
nameserver, you can access the network and resolve IP addresses in the
%post section.  If you configured the network for DHCP, the
/etc/resolv.conf file has not been completed when the installation
executes the %post section. You can access the network, but you can
not resolve IP addresses. Thus, if you are using DHCP, you must
specify IP addresses in the %post section.

If your script spawns a daemon process, you must make sure to close
stdout and stderr.  Doing so is standard procedure for creating
daemons.  If you do not close these file descriptors, the installation
will appear hung as anaconda waits for an EOF from the script.

The post-install script is run in a chroot environment; therefore,
performing tasks such as copying scripts or RPMs from the installation
media will not work.

optional arguments:

"--erroronfail"

   If the error script fails, this option will cause an error dialog
   to be displayed and will halt installation. The error message will
   direct you to where the cause of the failure is logged.

   New in version Fedora4.

"--interpreter /usr/bin/python"

   Allows you to specify a different scripting language, such as
   Python. Replace /usr/bin/python with the scripting language of your
   choice.

   New in version Fedora4.

"--log LOG, --logfile LOG"

   Log all messages from the script to the given log file.

   New in version Fedora4.

"--nochroot"

   Allows you to specify commands that you would like to run outside
   of the chroot environment.

   New in version Fedora4.


Examples
--------

Run a script named "runme" from an NFS share:

   %post
   mkdir /mnt/temp
   mount 10.10.0.2:/usr/new-machines /mnt/temp
   open -s -w -- /mnt/temp/runme
   umount /mnt/temp
   %end

Copy the file /etc/resolv.conf to the file system that was just
installed:

   %post --nochroot
   cp /etc/resolv.conf /mnt/sysimage/etc/resolv.conf
   %end

**If your kickstart is being interpreted by the livecd-creator tool,
you should replace /mnt/sysimage above with $INSTALL_ROOT.**


Chapter 7. Handling Errors
==========================

   %onerror [--erroronfail] [--interpreter /usr/bin/python] [--log LOG]

New in version Fedora4.

These scripts run when the installer hits a fatal error, but not
necessarily a bug in the installer.  Some examples of these situations
include errors in packages that have been requested to be installed,
failures when starting VNC when requested, and error when scanning
storage.  When these situations happen, installaton cannot continue.
The installer will run all %onerror scripts in the order they are
provided in the kickstart file.

In addition, %onerror scripts will be run on a traceback as well.  To
be exact, all %onerror scripts will be run and then all %traceback
scripts will be run afterwards.

Each %onerror script is required to be closed with a corresponding
%end.

Note:

  These scripts could potentially run at any stage in installation -
  early on, between making filesystems and installing packages, before
  the bootloader is installed, when attempting to reboot, and so on.
  For this reason, these scripts cannot be run in the chroot
  environment and you should not trust anything in the installed
  system.  These scripts are primarily for testing and error reporting
  purposes.

optional arguments:

"--erroronfail"

   If the error script fails, this option will cause an error dialog
   to be displayed and will halt installation. The error message will
   direct you to where the cause of the failure is logged.

   New in version Fedora4.

"--interpreter /usr/bin/python"

   Allows you to specify a different scripting language, such as
   Python. Replace /usr/bin/python with the scripting language of your
   choice.

   New in version Fedora4.

"--log LOG, --logfile LOG"

   Log all messages from the script to the given log file.

   New in version Fedora4.


Chapter 8. Handling Tracebacks
==============================

   %traceback [--erroronfail] [--interpreter /usr/bin/python] [--log LOG]

New in version Fedora4.

These scripts run when the installer hits an internal error (a
traceback, as they are called in Python) and cannot continue.  When
this situation happens, the installer will display an error dialog to
the screen that prompts the user to file a bug or reboot.  At the same
time, it will run all %traceback scripts in the order they are
provided in the kickstart file.

Each %traceback script is required to be closed with a corresponding
%end.

Note:

  These scripts could potentially run at any stage in installation -
  early on, between making filesystems and installing packages, before
  the bootloader is installed, when attempting to reboot, and so on.
  For this reason, these scripts cannot be run in the chroot
  environment and you should not trust anything in the installed
  system.  These scripts are primarily for testing and error reporting
  purposes.

optional arguments:

"--erroronfail"

   If the error script fails, this option will cause an error dialog
   to be displayed and will halt installation. The error message will
   direct you to where the cause of the failure is logged.

   New in version Fedora4.

"--interpreter /usr/bin/python"

   Allows you to specify a different scripting language, such as
   Python. Replace /usr/bin/python with the scripting language of your
   choice.

   New in version Fedora4.

"--log LOG, --logfile LOG"

   Log all messages from the script to the given log file.

   New in version Fedora4.


Chapter 9. Package Selection
============================

   %packages [--excludedocs] [--ignoremissing] [--default] [--multilib]
         [--nocore] [--timeout TIMEOUT] [--retries RETRIES]
         [--instLangs INSTLANGS] [--excludeWeakdeps]

New in version Fedora4.

Use the %packages command to begin a kickstart file section that lists
the packages you would like to install.

Packages can be specified by group or by individual package name. The
installation program defines several groups that contain related
packages. Refer to the repodata/*comps*.xml file on the installation
media or in installation repository for a list of groups. Each group
has an id, user visibility value, name, description, and package list.
In the package list, the packages marked as mandatory are always
installed if the group is selected, the packages marked default are
selected by default if the group is selected, and the packages marked
optional must be specifically selected even if the group is selected
to be installed.

In most cases, it is only necessary to list the desired groups and not
individual packages. Note that the Core group is always selected by
default, so it is not necessary to specify it in the %packages
section.

The %packages section is required to be closed with %end. Also,
multiple %packages sections may be given. This may be handy if the
kickstart file is used as a template and pulls in various other files
with the %include mechanism.

Here is an example %packages selection:

   %packages
   @X Window System
   @GNOME Desktop Environment
   @Graphical Internet
   @Sound and Video
   dhcp
   %end

As you can see, groups are specified, one to a line, starting with an
"@" symbol followed by the full group name as given in the comps.xml
file. Groups can also be specified using the id for the group, such as
gnome-desktop. Specify individual packages with no additional
characters (the dhcp line in the example above is an individual
package).

The "@" prefix is also used to request installation of module streams
in the following format:

   @<module name>:<stream name>/<profile name>

Profile name is optional and multiple profiles can be installed by
using multiple lines, one per profile. Stream name is only optional
only if the given module has a default stream.

If there are a module and a group named the same, and no stream name
and profile are specified, module will be selected instead of a group.

Requesting one module more than once with different streams or not
specifying a stream name for a module without a default stream will
result in an error.

Here is an example %packages selection with modules:

   %packages
   @^Fedora Server Edition
   @nodejs:10
   @django:1.6
   @postgresql:9.6/server
   @mariadb:10.1/server
   @mysql:5.7/default
   @scala:2.10/default
   @gimp:2.10/devel
   vim
   %end

You can also specify environments using the "@^" prefix followed by
full environment name as given in the comps.xml file.  If multiple
environments are specified, only the last one specified will be used.
Environments can be mixed with both group specifications (even if the
given group is not part of the specified environment) and package
specifications.

Here is an example of requesting the GNOME Desktop environment to be
selected for installation:

   %packages
   @^gnome-desktop-environment
   %end

Additionally, individual packages may be specified using globs. For
instance:

   %packages
   vim*
   kde-i18n-*
   %end

This would install all packages whose names start with “vim” or “kde-
i18n-“.

You can also specify which packages or groups not to install from the
default package list:

   %packages
   -autofs
   -@Sound and Video
   %end

optional arguments:

"--excludedocs"

   Do not install any of the documentation from any packages. For the
   most part, this means files in /usr/share/doc* will not get
   installed though it could mean other files as well, depending on
   how the package was built.

   New in version Fedora4.

"--ignoremissing"

   Ignore any packages, groups or module streams specified in the
   packages section that are not found in any configured repository.
   The default behavior is to halt the installation and ask the user
   if the installation should be aborted or continued. This option
   allows fully automated installation even in the error case.

   New in version Fedora4.

"--ignoredeps"

   New in version Fedora4.

   Deprecated since version Fedora4.

   Removed in version Fedora9.

"--resolvedeps"

   New in version Fedora4.

   Deprecated since version Fedora4.

   Removed in version Fedora9.

"--default"

   Install the default environment. This corresponds to the package
   set that would be installed if no other selections were made on the
   package customization screen during an interactive install.

   New in version Fedora7.

"--nobase"

   Do not install the @base group (installed by default, otherwise).

   New in version RedHatEnterpriseLinux6.

   Deprecated since version Fedora18.

   Removed in version Fedora22.

"--multilib"

   Enable yum’s “all” multilib_policy as opposed to the default of
   “best”.

   New in version Fedora18.

"--nocore"

   Do not install the @core group (installed by default, otherwise).

   **Omitting the core group can produce a system that is not bootable
   or that cannot finish the install. Use with caution.**

   New in version Fedora21.

"--timeout TIMEOUT"

   Set up yum’s or dnf’s timeout. It is a number of seconds to wait
   for a connection before timing out.

   New in version RedHatEnterpriseLinux7.

"--retries RETRIES"

   Set up yum’s or dnf’s retries. It is a number of times any attempt
   to retrieve a file should retry before returning an error.

   New in version RedHatEnterpriseLinux7.

"--instLangs INSTLANGS, --inst-langs INSTLANGS"

   Specify the list of languages that should be installed. This is
   different from the package group level selections, though. This
   option does not specify what package groups should be installed.
   Instead, it controls which translation files from individual
   packages should be installed by setting RPM macros.

   New in version Fedora9.

   Changed in version Fedora32.

   Added "--inst-langs" alias

"--excludeWeakdeps, --exclude-weakdeps"

   Do not install packages from weak dependencies. These are packages
   linked to the selected package set by Recommends and Supplements
   flags. By default weak dependencies will be installed.

   New in version Fedora24.

   Changed in version Fedora32.

   Added "--exclude-weakdeps" alias

"--ignorebroken"

   Ignore any packages, groups or modules with conflicting files. This
   issue will disable the DNF *strict* option. The default behavior is
   to abort the installation with error message describing the
   conflicting files.

   **WARNING: Usage of this parameter is DISCOURAGED! The DNF strict
   option will NOT log any information about what packages were
   skipped. Using this option may result in an unusable system.**

   New in version Fedora32.

   Removed in version RedHatEnterpriseLinux9.


Group-level options
-------------------

In addition, group lines in the %packages section can take the
following options:

"--nodefaults"

   Only install the group’s mandatory packages, not the default
   selections.

"--optional"

   In addition to the mandatory and default packages, also install the
   optional packages. This means all packages in the group will be
   installed.


Chapter 10. Making the Kickstart File Available
===============================================

A kickstart file must be placed in one of the following locations:

* On a boot diskette

* On a boot CD-ROM

* On a network

Normally a kickstart file is copied to the boot diskette, or made
available on the network. The network-based approach is most commonly
used, as most kickstart installations tend to be performed on
networked computers.

Let us take a more in-depth look at where the kickstart file may be
placed.


Creating a Kickstart Boot Diskette
----------------------------------

To perform a diskette-based kickstart installation, the kickstart file
must be named ks.cfg and must be located in the boot diskette’s top-
level directory. Refer to the section Making an Installation Boot
Diskette in the Red Hat Enterprise Linux Installation Guide for
instruction on creating a boot diskette. Because the boot diskettes
are in MS-DOS format, it is easy to copy the kickstart file under
Linux using the mcopy command:

"mcopy ks.cfg a:"

Alternatively, you can use Windows to copy the file. You can also
mount the MS-DOS boot diskette in Linux with the file system type vfat
and use the cp command to copy the file on the diskette.


Creating a Kickstart Boot CD-ROM
--------------------------------

To perform a CD-ROM-based kickstart installation, the kickstart file
must be named ks.cfg and must be located in the boot CD-ROM’s top-
level directory. Since a CD-ROM is read-only, the file must be added
to the directory used to create the image that is written to the CD-
ROM. Refer to the Making an Installation Boot CD-ROM section in the
Red Hat Enterprise Linux Installation Guide for instruction on
creating a boot CD-ROM; however, before making the file.iso image
file, copy the ks.cfg kickstart file to the isolinux/ directory.


Making the Kickstart File Available on the Network
--------------------------------------------------

Network installations using kickstart are quite common, because system
administrators can easily automate the installation on many networked
computers quickly and painlessly. In general, the approach most
commonly used is for the administrator to have both a BOOTP/DHCP
server and an NFS server on the local network. The BOOTP/DHCP server
is used to give the client system its networking information, while
the actual files used during the installation are served by the NFS
server. Often, these two servers run on the same physical machine, but
they are not required to.

To perform a network-based kickstart installation, you must have a
BOOTP/DHCP server on your network, and it must include configuration
information for the machine on which you are attempting to install
Fedora or Red Hat Enterprise Linux. The BOOTP/DHCP server will provide
the client with its networking information as well as the location of
the kickstart file.

If a kickstart file is specified by the BOOTP/DHCP server, the client
system will attempt an NFS mount of the file’s path, and will copy the
specified file to the client, using it as the kickstart file. The
exact settings required vary depending on the BOOTP/DHCP server you
use.

Here is an example of a line from the dhcpd.conf file for the DHCP
server:

   filename "/usr/new-machine/kickstart/";
   server-name "blarg.redhat.com";

Note that you should replace the value after filename with the name of
the kickstart file (or the directory in which the kickstart file
resides) and the value after server-name with the NFS server name.

If the filename returned by the BOOTP/DHCP server ends with a slash
(“/”), then it is interpreted as a path only. In this case, the client
system mounts that path using NFS, and searches for a particular file.
The filename the client searches for is:

::
   <ip-addr>-kickstart

The section of the filename should be replaced with the client’s IP
address in dotted decimal notation. For example, the filename for a
computer with an IP address of 10.10.0.1 would be 10.10.0.1-kickstart.

Note that if you do not specify a server name, then the client system
will attempt to use the server that answered the BOOTP/DHCP request as
its NFS server. If you do not specify a path or filename, the client
system will try to mount /kickstart from the BOOTP/DHCP server and
will try to find the kickstart file using the same -kickstart filename
as described above.


HTTP Headers
~~~~~~~~~~~~

When Anaconda requests the kickstart over the network it includes
several custom HTTP headers:

"X-Anaconda-Architecture: x86_64" indicates the architecture of the
system being installed to.

"X-Anaconda-System-Release: Fedora" indicates the product name being
installed.

There are also 2 optional headers, controlled by the kernel command
line options inst.ks.sendmac and inst.ks.sendsn

Prior to Fedora 17 and Red Hat Enterprise Linux 7, these options were
named "kssendmac" and "kssendsn".


Chapter 11. Making the Installation Tree Available
==================================================

The kickstart installation needs to access an installation tree. An
installation tree is a copy of the binary Fedora or Red Hat Enterprise
Linux CD-ROMs with the same directory structure.

If you are performing a CD-based installation, insert the Fedora or
Red Hat Enterprise Linux CD-ROM #1 into the computer before starting
the kickstart installation.

If you are performing a hard-drive installation, make sure the ISO
images of the binary Fedora or Red Hat Enterprise Linux CD-ROMs are on
a hard drive in the computer.

If you are performing a network-based (NFS, FTP, or HTTP)
installation, you must make the installation tree available over the
network. Refer to the Preparing for a Network Installation section of
the Red Hat Enterprise Linux Installation Guide for details.


Chapter 12. Starting a Kickstart Installation
=============================================

To begin a kickstart installation, you must boot the system from a
Fedora or Red Hat Enterprise Linux boot diskette, Fedora or Red Hat
Enterprise Linux boot CD-ROM, or the Fedora or Red Hat Enterprise
Linux CD-ROM #1 and enter a special boot command at the boot prompt.
In order to get to the boot prompt you must hit escape at the CD or
DVD boot menu. In case you don’t know what I’m talking about I took a
screenshot. The installation program looks for a kickstart file if the
ks command line argument is passed to the kernel.

https://fedoraproject.org/wiki/File:Fedora_boot_screen.png

Prior to Fedora 17 and Red Hat Enterprise Linux 7, all the various
forms of the "inst.ks=" parameter were simply named "ks=".


Boot Diskette
-------------

If the kickstart file is located on a boot diskette as described in
the Section called Creating a Kickstart Boot Diskette in Chapter 6,
boot the system with the diskette in the drive, and enter the
following command at the boot: prompt:

"linux inst.ks=floppy"


CD-ROM #1 and Diskette
----------------------

The linux inst.ks=floppy command also works if the ks.cfg file is
located on a vfat or ext2 file system on a diskette and you boot from
the Fedora or Red Hat Enterprise Linux CD-ROM #1.

An alternate boot command is to boot off the Fedora or Red Hat
Enterprise Linux CD-ROM #1 and have the kickstart file on a vfat or
ext2 file system on a diskette. To do so, enter the following command
at the boot: prompt:

"linux inst.ks=hd:fd0:/ks.cfg"


With Driver Disk
----------------

If you need to use a driver disk with kickstart, specify the dd option
as well. For example, to boot off a boot diskette and use a driver
disk, enter the following command at the boot: prompt:

"linux inst.ks=floppy dd"


Boot CD-ROM
-----------

If the kickstart file is on a boot CD-ROM as described in the Section
called Creating a Kickstart Boot CD-ROM in Chapter 6, insert the CD-
ROM into the system, boot the system, and enter the following command
at the boot: prompt (where ks.cfg is the name of the kickstart file):

"linux inst.ks=cdrom:<device>:/ks.cfg"


Other kickstart options
-----------------------

"inst.ks=nfs:<server>:/<path>"

   The installation program will look for the kickstart file on the
   NFS server , as file . The installation program will use DHCP to
   configure the Ethernet card. For example, if your NFS server is
   server.example.com and the kickstart file is in the NFS share
   /mydir/ks.cfg, the correct boot command would be
   inst.ks=nfs:server.example.com:/mydir/ks.cfg.

"inst.ks=http://<server>/<path>"

   The installation program will look for the kickstart file on the
   HTTP server , as file . The installation program will use DHCP to
   configure the Ethernet card. For example, if your HTTP server is
   server.example.com and the kickstart file is in the HTTP directory
   /mydir/ks.cfg, the correct boot command would be
   inst.ks=http://server.example.com/mydir/ks.cfg.

"inst.ks=floppy"

   The installation program looks for the file ks.cfg on a vfat or
   ext2 file system on the diskette in /dev/fd0.

"inst.ks=floppy:/<path>"

   The installation program will look for the kickstart file on the
   diskette in /dev/fd0, as file .

"inst.ks=hd:<device>:/<file>"

   The installation program will mount the file system on (which must
   be vfat or ext2), and look for the kickstart configuration file as
   in that file system (for example, inst.ks=hd:sda3:/mydir/ks.cfg).

"inst.ks=bd:<biosdev>:/<path>"

   The installation program will mount the file system on the
   specified partition on the specified BIOS device (for example,
   inst.ks=bd:80p3:/mydir/ks.cfg). Note this does not work for BIOS
   RAID sets.

"inst.ks=file:/<file>"

   The installation program will try to read the file from the file
   system; no mounts will be done. This is normally used if the
   kickstart file is already on the initrd image.

"inst.ks=cdrom:/<path>" or in newer versions "inst.ks=cdrom:<cdrom
device>:/<path>"

   The installation program will look for the kickstart file on CD-
   ROM, as file .

"inst.ks"

   If ks is used alone, the installation program will configure the
   Ethernet card to use DHCP. The kickstart file is read from the
   “bootServer” from the DHCP response as if it is an NFS server
   sharing the kickstart file. By default, the bootServer is the same
   as the DHCP server. The name of the kickstart file is one of the
   following:

   * If DHCP is specified and the bootfile begins with a /, the
     bootfile provided by DHCP is looked for on the NFS server.

   * If DHCP is specified and the bootfile begins with something other
     then a /, the bootfile provided by DHCP is looked for in the
     /kickstart directory on the NFS server.

   * If DHCP did not specify a bootfile, then the installation program
     tries to read the file /kickstart/1.2.3.4-kickstart, where
     1.2.3.4 is the numeric IP address of the machine being installed.

"inst.ks.device=<device>"

   The installation program will use this network device to connect to
   the network. For example, to start a kickstart installation with
   the kickstart file on an NFS server that is connected to the system
   through the eth1 device, use the command
   "inst.ks=nfs:<server>:/<path> ksdevice=eth1" at the boot: prompt.
   For more information, see anaconda boot options.

   Prior to Fedora 17 and Red Hat Enterprise Linux 7, this option was
   named "ksdevice=".


Example Kickstart Script
------------------------

Since I got tons of errors I thought I would share an example of a
kickstart script that works. This also has an example of an lvm setup.
I couldn’t find a good example of an lvm anywhere else. I also added
comments where I thought would help. Please modify if you think you
have some other good examples.

   # Kickstart file automatically generated by anaconda.

   #version=DEVEL
   #url --url http://mirrors.kernel.org/fedora/releases/7/Fedora/i386/os
   #inst.ks=http://127.0.0.1/ks.cfg
   #inst.ks=http://localhost/ks.cfg
   url --url http://ftp.usf.edu/pub/fedora/linux/releases/14/Fedora/i386/os
   install
   cdrom
   lang en_US.UTF-8
   keyboard us
   network --onboot yes --device eth0 --bootproto dhcp --noipv6
   timezone --utc America/New_York
   rootpw  --iscrypted $6$s9i1bQbmW4oSWMJc$0oHfSz0b/d90EvHx7cy70RJGIHrP1awzAgL9A3x2tbkyh72P3kN41vssaI3/SJf4Y4qSo6zxc2gZ3srzc4ACX1
   selinux --permissive
   authconfig --enableshadow --passalgo=sha512 --enablefingerprint
   firewall --service=ssh
   # The following is the partition information you requested
   # Note that any partitions you deleted are not expressed
   # here so unless you clear all partitions first, this is
   # not guaranteed to work

   #I am deleting the old partitions with this
   clearpart --all --drives=sda

   #I am creating partitions here
   #I will create the lvm stuff farther down
   part /boot --fstype=ext4 --size=500 --ondisk=sda --asprimary
   part pv.5xwrsR-ldgG-FEmM-2Zu5-Jn3O-sx9T-unQUOe --grow --size=500 --ondisk=sda --asprimary

   #Very important to have the two part lines before the lvm stuff
   volgroup VG --pesize=32768 pv.5xwrsR-ldgG-FEmM-2Zu5-Jn3O-sx9T-unQUOe
   logvol / --fstype=ext4 --name=lv_root --vgname=VG --size=40960
   logvol /home --fstype=ext4 --name=lv_home --vgname=VG --size=25600
   logvol swap --fstype swap --name=lv_swap --vgname=VG --size=4096

   bootloader --location=mbr --driveorder=sda --append="rhgb quiet"

   %packages
   @admin-tools
   #@editors
   #@fonts
   @gnome-desktop
   #@games
   #@graphical-internet
   #@graphics
   @hardware-support
   @input-methods
   #@java
   #@office
   #@online-docs
   @printing
   @sound-and-video
   @text-internet
   @base-x
   xfsprogs
   mtools
   #gpgme
   #openoffice.org-opensymbol-fonts
   #gvfs-obexftp
   hdparm
   #gok
   #iok
   #vorbis-tools
   jack-audio-connection-kit
   #ncftp
   gdm
   %end

   # Reboot after installation
   reboot


More Kickstart usage examples
-----------------------------

Various Kickstart usage examples based on real use cases:

Reinstalling Fedora with Kickstart on BTRFS

Kickstarting a Fedora Live installation

JAKS (Just Another Kickstart Script) - Generic kickstart script for
all *anaconda* based installations. Includes *jaks2iso* to assist with
generating bootable ISO for UEFI/8086 boot rom good for DVD and/or USB
installations. Also includes *%post* installation hooks through use of
*jaks-post-config* toolkit.
